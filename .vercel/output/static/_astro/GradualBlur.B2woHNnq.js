import{j as pr}from"./jsx-runtime.CXGBuEPN.js";import{R as Zu,r as Qe}from"./index.Dt6KwD57.js";/* empty css                       */import"./jsx-runtime.Bw5QeaCk.js";import"./index.BLy_0GNg.js";function Yt(){return Yt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var u in r)({}).hasOwnProperty.call(r,u)&&(e[u]=r[u])}return e},Yt.apply(null,arguments)}var wn={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function Vu(e,t){if(Xt(e,t))return e[t];throw typeof e[t]=="function"&&Hu(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function Wu(e,t,r){if(Xt(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')}function Xt(e,t){return!Gu(e)&&!Array.isArray(e)?!1:Kt(Ju,t)?!0:!(t in Object.prototype||t in Function.prototype)}function Hu(e,t){return e==null||typeof e[t]!="function"||Kt(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:Kt(Yu,t)?!0:!(t in Object.prototype||t in Function.prototype)}function Gu(e){return typeof e=="object"&&e&&e.constructor===Object}var Ju={length:!0,name:!0},Yu={toString:!0,valueOf:!0,toLocaleString:!0};class Xu{constructor(t){this.wrappedObject=t,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(t=>this.has(t)).values()}get(t){return Vu(this.wrappedObject,t)}set(t,r){return Wu(this.wrappedObject,t,r),this}has(t){return Xt(this.wrappedObject,t)&&t in this.wrappedObject}entries(){return ju(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var r of this.keys())t(this.get(r),r,this)}delete(t){Xt(this.wrappedObject,t)&&delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}}function ju(e,t){return{next:()=>{var r=e.next();return r.done?r:{value:t(r.value),done:!1}}}}function De(e){return typeof e=="number"}function Ce(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function Ku(e){return typeof e=="bigint"}function En(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function An(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function Cn(e){return e&&e.constructor.prototype.isUnit===!0||!1}function ke(e){return typeof e=="string"}var _e=Array.isArray;function Ae(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function jt(e){return Array.isArray(e)||Ae(e)}function Qu(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function ku(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function ei(e){return e&&e.constructor.prototype.isRange===!0||!1}function Nr(e){return e&&e.constructor.prototype.isIndex===!0||!1}function ti(e){return typeof e=="boolean"}function ri(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function ni(e){return e&&e.constructor.prototype.isHelp===!0||!1}function ui(e){return typeof e=="function"}function ii(e){return e instanceof Date}function oi(e){return e instanceof RegExp}function Mr(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!En(e)&&!An(e))}function ai(e){return e?e instanceof Map||e instanceof Xu||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}function si(e){return e===null}function fi(e){return e===void 0}function ci(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function li(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function hi(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Di(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function pi(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function di(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function mi(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function gi(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function vi(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function Fi(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function wi(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ei(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ai(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ci(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function yi(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function bi(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function Bi(e){return e&&e.constructor.prototype.isChain===!0||!1}function ct(e){var t=typeof e;return t==="object"?e===null?"null":Ce(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function Ee(e){var t=typeof e;if(t==="number"||t==="bigint"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(r){return Ee(r)});if(e instanceof Date)return new Date(e.valueOf());if(Ce(e))return e;if(Mr(e))return _i(e,Ee);if(t==="function")return e;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function _i(e,t){var r={};for(var u in e)Kt(e,u)&&(r[u]=t(e[u]));return r}function Nt(e,t){var r,u,n;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(u=0,n=e.length;u<n;u++)if(!Nt(e[u],t[u]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!Nt(e[r],t[r]))return!1;for(r in t)if(!(r in e))return!1;return!0}else return e===t}}function Kt(e,t){return e&&Object.hasOwnProperty.call(e,t)}function Ni(e,t){for(var r={},u=0;u<t.length;u++){var n=t[u],i=e[n];i!==void 0&&(r[n]=i)}return r}var Mi=["Matrix","Array"],Si=["number","BigNumber","bigint","Fraction"],ht=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(wn)};Yt(ht,wn,{MATRIX_OPTIONS:Mi,NUMBER_OPTIONS:Si});function qr(){return!0}function Je(){return!1}function Et(){}const Ur="Argument is not a typed-function.";function yn(){function e(v){return typeof v=="object"&&v!==null&&v.constructor===Object}const t=[{name:"number",test:function(v){return typeof v=="number"}},{name:"string",test:function(v){return typeof v=="string"}},{name:"boolean",test:function(v){return typeof v=="boolean"}},{name:"Function",test:function(v){return typeof v=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(v){return v instanceof Date}},{name:"RegExp",test:function(v){return v instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(v){return v===null}},{name:"undefined",test:function(v){return v===void 0}}],r={name:"any",test:qr,isAny:!0};let u,n,i=0,o={createCount:0};function a(v){const A=u.get(v);if(A)return A;let M='Unknown type "'+v+'"';const T=v.toLowerCase();let P;for(P of n)if(P.toLowerCase()===T){M+='. Did you mean "'+P+'" ?';break}throw new TypeError(M)}function l(v){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const M=A?a(A).index:n.length,T=[];for(let x=0;x<v.length;++x){if(!v[x]||typeof v[x].name!="string"||typeof v[x].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const q=v[x].name;if(u.has(q))throw new TypeError('Duplicate type name "'+q+'"');T.push(q),u.set(q,{name:q,test:v[x].test,isAny:v[x].isAny,index:M+x,conversionsTo:[]})}const P=n.slice(M);n=n.slice(0,M).concat(T).concat(P);for(let x=M+T.length;x<n.length;++x)u.get(n[x]).index=x}function c(){u=new Map,n=[],i=0,l([r],!1)}c(),l(t);function s(){let v;for(v of n)u.get(v).conversionsTo=[];i=0}function h(v){const A=n.filter(M=>{const T=u.get(M);return!T.isAny&&T.test(v)});return A.length?A:["any"]}function D(v){return v&&typeof v=="function"&&"_typedFunctionData"in v}function p(v,A,M){if(!D(v))throw new TypeError(Ur);const T=M&&M.exact,P=Array.isArray(A)?A.join(","):A,x=b(P),q=m(x);if(!T||q in v.signatures){const Q=v._typedFunctionData.signatureMap.get(q);if(Q)return Q}const R=x.length;let Z;if(T){Z=[];let Q;for(Q in v.signatures)Z.push(v._typedFunctionData.signatureMap.get(Q))}else Z=v._typedFunctionData.signatures;for(let Q=0;Q<R;++Q){const ne=x[Q],be=[];let qe;for(qe of Z){const Oe=B(qe.params,Q);if(!(!Oe||ne.restParam&&!Oe.restParam)){if(!Oe.hasAny){const He=E(Oe);if(ne.types.some(Ge=>!He.has(Ge.name)))continue}be.push(qe)}}if(Z=be,Z.length===0)break}let z;for(z of Z)if(z.params.length<=R)return z;throw new TypeError("Signature not found (signature: "+(v.name||"unnamed")+"("+m(x,", ")+"))")}function d(v,A,M){return p(v,A,M).implementation}function f(v,A){const M=a(A);if(M.test(v))return v;const T=M.conversionsTo;if(T.length===0)throw new Error("There are no conversions to "+A+" defined.");for(let P=0;P<T.length;P++)if(a(T[P].from).test(v))return T[P].convert(v);throw new Error("Cannot convert "+v+" to "+A)}function m(v){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return v.map(M=>M.name).join(A)}function w(v){const A=v.indexOf("...")===0,T=(A?v.length>3?v.slice(3):"any":v).split("|").map(R=>a(R.trim()));let P=!1,x=A?"...":"";return{types:T.map(function(R){return P=R.isAny||P,x+=R.name+"|",{name:R.name,typeIndex:R.index,test:R.test,isAny:R.isAny,conversion:null,conversionIndex:-1}}),name:x.slice(0,-1),hasAny:P,hasConversion:!1,restParam:A}}function C(v){const A=v.types.map(q=>q.name),M=K(A);let T=v.hasAny,P=v.name;const x=M.map(function(q){const R=a(q.from);return T=R.isAny||T,P+="|"+q.from,{name:q.from,typeIndex:R.index,test:R.test,isAny:R.isAny,conversion:q,conversionIndex:q.index}});return{types:v.types.concat(x),name:P,hasAny:T,hasConversion:x.length>0,restParam:v.restParam}}function E(v){return v.typeSet||(v.typeSet=new Set,v.types.forEach(A=>v.typeSet.add(A.name))),v.typeSet}function b(v){const A=[];if(typeof v!="string")throw new TypeError("Signatures must be strings");const M=v.trim();if(M==="")return A;const T=M.split(",");for(let P=0;P<T.length;++P){const x=w(T[P].trim());if(x.restParam&&P!==T.length-1)throw new SyntaxError('Unexpected rest parameter "'+T[P]+'": only allowed for the last parameter');if(x.types.length===0)return null;A.push(x)}return A}function F(v){const A=fe(v);return A?A.restParam:!1}function g(v){if(!v||v.types.length===0)return qr;if(v.types.length===1)return a(v.types[0].name).test;if(v.types.length===2){const A=a(v.types[0].name).test,M=a(v.types[1].name).test;return function(P){return A(P)||M(P)}}else{const A=v.types.map(function(M){return a(M.name).test});return function(T){for(let P=0;P<A.length;P++)if(A[P](T))return!0;return!1}}}function y(v){let A,M,T;if(F(v)){A=Re(v).map(g);const P=A.length,x=g(fe(v)),q=function(R){for(let Z=P;Z<R.length;Z++)if(!x(R[Z]))return!1;return!0};return function(Z){for(let z=0;z<A.length;z++)if(!A[z](Z[z]))return!1;return q(Z)&&Z.length>=P+1}}else return v.length===0?function(x){return x.length===0}:v.length===1?(M=g(v[0]),function(x){return M(x[0])&&x.length===1}):v.length===2?(M=g(v[0]),T=g(v[1]),function(x){return M(x[0])&&T(x[1])&&x.length===2}):(A=v.map(g),function(x){for(let q=0;q<A.length;q++)if(!A[q](x[q]))return!1;return x.length===A.length})}function B(v,A){return A<v.length?v[A]:F(v)?fe(v):null}function _(v,A){const M=B(v,A);return M?E(M):new Set}function S(v){return v.conversion===null||v.conversion===void 0}function I(v,A){const M=new Set;return v.forEach(T=>{const P=_(T.params,A);let x;for(x of P)M.add(x)}),M.has("any")?["any"]:Array.from(M)}function L(v,A,M){let T,P;const x=v||"unnamed";let q=M,R;for(R=0;R<A.length;R++){const ne=[];if(q.forEach(be=>{const qe=B(be.params,R),Oe=g(qe);(R<be.params.length||F(be.params))&&Oe(A[R])&&ne.push(be)}),ne.length===0){if(P=I(q,R),P.length>0){const be=h(A[R]);return T=new TypeError("Unexpected type of argument in function "+x+" (expected: "+P.join(" or ")+", actual: "+be.join(" | ")+", index: "+R+")"),T.data={category:"wrongType",fn:x,index:R,actual:be,expected:P},T}}else q=ne}const Z=q.map(function(ne){return F(ne.params)?1/0:ne.params.length});if(A.length<Math.min.apply(null,Z))return P=I(q,R),T=new TypeError("Too few arguments in function "+x+" (expected: "+P.join(" or ")+", index: "+A.length+")"),T.data={category:"tooFewArgs",fn:x,index:A.length,expected:P},T;const z=Math.max.apply(null,Z);if(A.length>z)return T=new TypeError("Too many arguments in function "+x+" (expected: "+z+", actual: "+A.length+")"),T.data={category:"tooManyArgs",fn:x,index:A.length,expectedLength:z},T;const Q=[];for(let ne=0;ne<A.length;++ne)Q.push(h(A[ne]).join("|"));return T=new TypeError('Arguments of type "'+Q.join(", ")+'" do not match any of the defined signatures of function '+x+"."),T.data={category:"mismatch",actual:Q},T}function G(v){let A=n.length+1;for(let M=0;M<v.types.length;M++)A=Math.min(A,v.types[M].typeIndex);return A}function J(v){let A=i+1;for(let M=0;M<v.types.length;M++)S(v.types[M])||(A=Math.min(A,v.types[M].conversionIndex));return A}function V(v,A){if(v.hasAny){if(!A.hasAny)return .1}else if(A.hasAny)return-.1;if(v.restParam){if(!A.restParam)return .01}else if(A.restParam)return-.01;const M=G(v)-G(A);if(M<0)return-.001;if(M>0)return .001;const T=J(v),P=J(A);if(v.hasConversion){if(!A.hasConversion)return(1+T)*1e-6}else if(A.hasConversion)return-(1+P)*1e-6;const x=T-P;return x<0?-1e-7:x>0?1e-7:0}function $(v,A){const M=v.params,T=A.params,P=fe(M),x=fe(T),q=F(M),R=F(T);if(q&&P.hasAny){if(!R||!x.hasAny)return 1e7}else if(R&&x.hasAny)return-1e7;let Z=0,z=0,Q;for(Q of M)Q.hasAny&&++Z,Q.hasConversion&&++z;let ne=0,be=0;for(Q of T)Q.hasAny&&++ne,Q.hasConversion&&++be;if(Z!==ne)return(Z-ne)*1e6;if(q&&P.hasConversion){if(!R||!x.hasConversion)return 1e5}else if(R&&x.hasConversion)return-1e5;if(z!==be)return(z-be)*1e4;if(q){if(!R)return 1e3}else if(R)return-1e3;const qe=(M.length-T.length)*(q?-100:100);if(qe!==0)return qe;const Oe=[];let He=0;for(let wt=0;wt<M.length;++wt){const Ut=V(M[wt],T[wt]);Oe.push(Ut),He+=Ut}if(He!==0)return(He<0?-10:10)+He;let Ge,Ft=9;const Dr=Ft/(Oe.length+1);for(Ge of Oe){if(Ge!==0)return(Ge<0?-Ft:Ft)+Ge;Ft-=Dr}return 0}function K(v){if(v.length===0)return[];const A=v.map(a);if(v.length===1)return A[0].conversionsTo;const M=new Set(v),T=new Set;for(let x=0;x<A.length;++x)for(const q of A[x].conversionsTo)M.has(q.from)||T.add(q.from);const P=[];for(const x of T){let q=i+1,R=null;for(let Z=0;Z<A.length;++Z)for(const z of A[Z].conversionsTo)z.from===x&&z.index<q&&(q=z.index,R=z);P.push(R)}return P}function Y(v,A){let M=A,T="";if(v.some(x=>x.hasConversion)){const x=F(v),q=v.map(X);T=q.map(R=>R.name).join(";"),M=function(){const Z=[],z=x?arguments.length-1:arguments.length;for(let Q=0;Q<z;Q++)Z[Q]=q[Q](arguments[Q]);return x&&(Z[z]=arguments[z].map(q[z])),A.apply(this,Z)}}let P=M;if(F(v)){const x=v.length-1;P=function(){return M.apply(this,ae(arguments,0,x).concat([ae(arguments,x)]))}}return T&&Object.defineProperty(P,"name",{value:T}),P}function X(v){let A,M,T,P;const x=[],q=[];let R="";v.types.forEach(function(z){z.conversion&&(R+=z.conversion.from+"~>"+z.conversion.to+",",x.push(a(z.conversion.from).test),q.push(z.conversion.convert))}),R?R=R.slice(0,-1):R="pass";let Z=z=>z;switch(q.length){case 0:break;case 1:A=x[0],T=q[0],Z=function(Q){return A(Q)?T(Q):Q};break;case 2:A=x[0],M=x[1],T=q[0],P=q[1],Z=function(Q){return A(Q)?T(Q):M(Q)?P(Q):Q};break;default:Z=function(Q){for(let ne=0;ne<q.length;ne++)if(x[ne](Q))return q[ne](Q);return Q}}return Object.defineProperty(Z,"name",{value:R}),Z}function ee(v){function A(M,T,P){if(T<M.length){const x=M[T];let q=[];if(x.restParam){const R=x.types.filter(S);R.length<x.types.length&&q.push({types:R,name:"..."+R.map(Z=>Z.name).join("|"),hasAny:R.some(Z=>Z.isAny),hasConversion:!1,restParam:!0}),q.push(x)}else q=x.types.map(function(R){return{types:[R],name:R.name,hasAny:R.isAny,hasConversion:R.conversion,restParam:!1}});return xe(q,function(R){return A(M,T+1,P.concat([R]))})}else return[P]}return A(v,0,[])}function oe(v,A){const M=Math.max(v.length,A.length);for(let R=0;R<M;R++){const Z=_(v,R),z=_(A,R);let Q=!1,ne;for(ne of z)if(Z.has(ne)){Q=!0;break}if(!Q)return!1}const T=v.length,P=A.length,x=F(v),q=F(A);return x?q?T===P:P>=T:q?T>=P:T===P}function ue(v){return v.map(A=>nt(A)?We(A.referToSelf.callback):rt(A)?Me(A.referTo.references,A.referTo.callback):A)}function se(v,A,M){const T=[];let P;for(P of v){let x=M[P];if(typeof x!="number")throw new TypeError('No definition for referenced signature "'+P+'"');if(x=A[x],typeof x!="function")return!1;T.push(x)}return T}function ye(v,A,M){const T=ue(v),P=new Array(T.length).fill(!1);let x=!0;for(;x;){x=!1;let q=!0;for(let R=0;R<T.length;++R){if(P[R])continue;const Z=T[R];if(nt(Z))T[R]=Z.referToSelf.callback(M),T[R].referToSelf=Z.referToSelf,P[R]=!0,q=!1;else if(rt(Z)){const z=se(Z.referTo.references,T,A);z?(T[R]=Z.referTo.callback.apply(this,z),T[R].referTo=Z.referTo,P[R]=!0,q=!1):x=!0}}if(q&&x)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return T}function we(v){const A=/\bthis(\(|\.signatures\b)/;Object.keys(v).forEach(M=>{const T=v[M];if(A.test(T.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function ve(v,A){if(o.createCount++,Object.keys(A).length===0)throw new SyntaxError("No signatures provided");o.warnAgainstDeprecatedThis&&we(A);const M=[],T=[],P={},x=[];let q;for(q in A){if(!Object.prototype.hasOwnProperty.call(A,q))continue;const ie=b(q);if(!ie)continue;M.forEach(function(Ot){if(oe(Ot,ie))throw new TypeError('Conflicting signatures "'+m(Ot)+'" and "'+m(ie)+'".')}),M.push(ie);const Ue=T.length;T.push(A[q]);const Uu=ie.map(C);let Lt;for(Lt of ee(Uu)){const Ot=m(Lt);x.push({params:Lt,name:Ot,fn:Ue}),Lt.every(Lu=>!Lu.hasConversion)&&(P[Ot]=Ue)}}x.sort($);const R=ye(T,P,It);let Z;for(Z in P)Object.prototype.hasOwnProperty.call(P,Z)&&(P[Z]=R[P[Z]]);const z=[],Q=new Map;for(Z of x)Q.has(Z.name)||(Z.fn=R[Z.fn],z.push(Z),Q.set(Z.name,Z));const ne=z[0]&&z[0].params.length<=2&&!F(z[0].params),be=z[1]&&z[1].params.length<=2&&!F(z[1].params),qe=z[2]&&z[2].params.length<=2&&!F(z[2].params),Oe=z[3]&&z[3].params.length<=2&&!F(z[3].params),He=z[4]&&z[4].params.length<=2&&!F(z[4].params),Ge=z[5]&&z[5].params.length<=2&&!F(z[5].params),Ft=ne&&be&&qe&&Oe&&He&&Ge;for(let ie=0;ie<z.length;++ie)z[ie].test=y(z[ie].params);const Dr=ne?g(z[0].params[0]):Je,wt=be?g(z[1].params[0]):Je,Ut=qe?g(z[2].params[0]):Je,pu=Oe?g(z[3].params[0]):Je,du=He?g(z[4].params[0]):Je,mu=Ge?g(z[5].params[0]):Je,gu=ne?g(z[0].params[1]):Je,vu=be?g(z[1].params[1]):Je,Fu=qe?g(z[2].params[1]):Je,wu=Oe?g(z[3].params[1]):Je,Eu=He?g(z[4].params[1]):Je,Au=Ge?g(z[5].params[1]):Je;for(let ie=0;ie<z.length;++ie)z[ie].implementation=Y(z[ie].params,z[ie].fn);const Cu=ne?z[0].implementation:Et,yu=be?z[1].implementation:Et,bu=qe?z[2].implementation:Et,Bu=Oe?z[3].implementation:Et,_u=He?z[4].implementation:Et,Nu=Ge?z[5].implementation:Et,Mu=ne?z[0].params.length:-1,Su=be?z[1].params.length:-1,Tu=qe?z[2].params.length:-1,xu=Oe?z[3].params.length:-1,Iu=He?z[4].params.length:-1,Ou=Ge?z[5].params.length:-1,zu=Ft?6:0,Pu=z.length,Ru=z.map(ie=>ie.test),$u=z.map(ie=>ie.implementation),qu=function(){for(let Ue=zu;Ue<Pu;Ue++)if(Ru[Ue](arguments))return $u[Ue].apply(this,arguments);return o.onMismatch(v,arguments,z)};function It(ie,Ue){return arguments.length===Mu&&Dr(ie)&&gu(Ue)?Cu.apply(this,arguments):arguments.length===Su&&wt(ie)&&vu(Ue)?yu.apply(this,arguments):arguments.length===Tu&&Ut(ie)&&Fu(Ue)?bu.apply(this,arguments):arguments.length===xu&&pu(ie)&&wu(Ue)?Bu.apply(this,arguments):arguments.length===Iu&&du(ie)&&Eu(Ue)?_u.apply(this,arguments):arguments.length===Ou&&mu(ie)&&Au(Ue)?Nu.apply(this,arguments):qu.apply(this,arguments)}try{Object.defineProperty(It,"name",{value:v})}catch{}return It.signatures=P,It._typedFunctionData={signatures:z,signatureMap:Q},It}function he(v,A,M){throw L(v,A,M)}function Re(v){return ae(v,0,v.length-1)}function fe(v){return v[v.length-1]}function ae(v,A,M){return Array.prototype.slice.call(v,A,M)}function Ve(v,A){for(let M=0;M<v.length;M++)if(A(v[M]))return v[M]}function xe(v,A){return Array.prototype.concat.apply([],v.map(A))}function ce(){const v=Re(arguments).map(M=>m(b(M))),A=fe(arguments);if(typeof A!="function")throw new TypeError("Callback function expected as last argument");return Me(v,A)}function Me(v,A){return{referTo:{references:v,callback:A}}}function We(v){if(typeof v!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:v}}}function rt(v){return v&&typeof v.referTo=="object"&&Array.isArray(v.referTo.references)&&typeof v.referTo.callback=="function"}function nt(v){return v&&typeof v.referToSelf=="object"&&typeof v.referToSelf.callback=="function"}function gt(v,A){if(!v)return A;if(A&&A!==v){const M=new Error("Function names do not match (expected: "+v+", actual: "+A+")");throw M.data={actual:A,expected:v},M}return v}function vt(v){let A;for(const M in v)Object.prototype.hasOwnProperty.call(v,M)&&(D(v[M])||typeof v[M].signature=="string")&&(A=gt(A,v[M].name));return A}function hr(v,A){let M;for(M in A)if(Object.prototype.hasOwnProperty.call(A,M)){if(M in v&&A[M]!==v[M]){const T=new Error('Signature "'+M+'" is defined twice');throw T.data={signature:M,sourceFunction:A[M],destFunction:v[M]},T}v[M]=A[M]}}const Du=o;o=function(v){const A=typeof v=="string",M=A?1:0;let T=A?v:"";const P={};for(let x=M;x<arguments.length;++x){const q=arguments[x];let R={},Z;if(typeof q=="function"?(Z=q.name,typeof q.signature=="string"?R[q.signature]=q:D(q)&&(R=q.signatures)):e(q)&&(R=q,A||(Z=vt(q))),Object.keys(R).length===0){const z=new TypeError("Argument to 'typed' at index "+x+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw z.data={index:x,argument:q},z}A||(T=gt(T,Z)),hr(P,R)}return ve(T||"",P)},o.create=yn,o.createCount=Du.createCount,o.onMismatch=he,o.throwMismatchError=he,o.createError=L,o.clear=c,o.clearConversions=s,o.addTypes=l,o._findType=a,o.referTo=ce,o.referToSelf=We,o.convert=f,o.findSignature=p,o.find=d,o.isTypedFunction=D,o.warnAgainstDeprecatedThis=!0,o.addType=function(v,A){let M="any";A!==!1&&u.has("Object")&&(M="Object"),o.addTypes([v],M)};function $r(v){if(!v||typeof v.from!="string"||typeof v.to!="string"||typeof v.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(v.to===v.from)throw new SyntaxError('Illegal to define conversion from "'+v.from+'" to itself.')}return o.addConversion=function(v){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};$r(v);const M=a(v.to),T=M.conversionsTo.find(P=>P.from===v.from);if(T)if(A&&A.override)o.removeConversion({from:T.from,to:v.to,convert:T.convert});else throw new Error('There is already a conversion from "'+v.from+'" to "'+M.name+'"');M.conversionsTo.push({from:v.from,to:M.name,convert:v.convert,index:i++})},o.addConversions=function(v,A){v.forEach(M=>o.addConversion(M,A))},o.removeConversion=function(v){$r(v);const A=a(v.to),M=Ve(A.conversionsTo,P=>P.from===v.from);if(!M)throw new Error("Attempt to remove nonexistent conversion from "+v.from+" to "+v.to);if(M.convert!==v.convert)throw new Error("Conversion to remove does not match existing conversion");const T=A.conversionsTo.indexOf(M);A.conversionsTo.splice(T,1)},o.resolve=function(v,A){if(!D(v))throw new TypeError(Ur);const M=v._typedFunctionData.signatures;for(let T=0;T<M.length;++T)if(M[T].test(A))return M[T];return null},o}const Qt=yn();function re(e,t,r,u){function n(i){var o=Ni(i,t.map(Ii));return Ti(e,t,i),r(o)}return n.isFactory=!0,n.fn=e,n.dependencies=t.slice().sort(),u&&(n.meta=u),n}function Ti(e,t,r){var u=t.filter(i=>!xi(i)).every(i=>r[i]!==void 0);if(!u){var n=t.filter(i=>r[i]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(n.map(i=>'"'.concat(i,'"')).join(", "),"."))}}function xi(e){return e&&e[0]==="?"}function Ii(e){return e&&e[0]==="?"?e.slice(1):e}function de(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function dr(e,t,r){var u={2:"0b",8:"0o",16:"0x"},n=u[t],i="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!de(r))throw new Error("size must be an integer");if(e>2**(r-1)-1||e<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!de(e))throw new Error("Value must be an integer");e<0&&(e=e+2**r),i="i".concat(r)}var o="";return e<0&&(e=-e,o="-"),"".concat(o).concat(n).concat(e.toString(t)).concat(i)}function Fr(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:r,precision:u,wordSize:n}=bn(t);switch(r){case"fixed":return Bn(e,u);case"exponential":return _n(e,u);case"engineering":return Oi(e,u);case"bin":return dr(e,2,n);case"oct":return dr(e,8,n);case"hex":return dr(e,16,n);case"auto":return zi(e,u,t).replace(/((\.\d*?)(0+))($|e)/,function(){var i=arguments[2],o=arguments[4];return i!=="."?i+o:o});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function bn(e){var t="auto",r,u;if(e!==void 0)if(De(e))r=e;else if(Ce(e))r=e.toNumber();else if(Mr(e))e.precision!==void 0&&(r=Lr(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(u=Lr(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(t=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:t,precision:r,wordSize:u}}function $t(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],u=t[2],n=parseFloat(t[4]||"0"),i=u.indexOf(".");n+=i!==-1?i-1:u.length-1;var o=u.replace(".","").replace(/^0*/,function(a){return n-=a.length,""}).replace(/0*$/,"").split("").map(function(a){return parseInt(a)});return o.length===0&&(o.push(0),n++),{sign:r,coefficients:o,exponent:n}}function Oi(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=$t(e),u=ir(r,t),n=u.exponent,i=u.coefficients,o=n%3===0?n:n<0?n-3-n%3:n-n%3;if(De(t))for(;t>i.length||n-o+1>i.length;)i.push(0);else for(var a=Math.abs(n-o)-(i.length-1),l=0;l<a;l++)i.push(0);for(var c=Math.abs(n-o),s=1;c>0;)s++,c--;var h=i.slice(s).join(""),D=De(t)&&h.length||h.match(/[1-9]/)?"."+h:"",p=i.slice(0,s).join("")+D+"e"+(n>=0?"+":"")+o.toString();return u.sign+p}function Bn(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=$t(e),u=typeof t=="number"?ir(r,r.exponent+1+t):r,n=u.coefficients,i=u.exponent+1,o=i+(t||0);return n.length<o&&(n=n.concat(_t(o-n.length))),i<0&&(n=_t(-i+1).concat(n),i=1),i<n.length&&n.splice(i,0,i===0?"0.":"."),u.sign+n.join("")}function _n(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=$t(e),u=t?ir(r,t):r,n=u.coefficients,i=u.exponent;n.length<t&&(n=n.concat(_t(t-n.length)));var o=n.shift();return u.sign+o+(n.length>0?"."+n.join(""):"")+"e"+(i>=0?"+":"")+i}function zi(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var u=Zr(r?.lowerExp,-3),n=Zr(r?.upperExp,5),i=$t(e),o=t?ir(i,t):i;if(o.exponent<u||o.exponent>=n)return _n(e,t);var a=o.coefficients,l=o.exponent;a.length<t&&(a=a.concat(_t(t-a.length))),a=a.concat(_t(l-a.length+1+(a.length<t?t-a.length:0))),a=_t(-l).concat(a);var c=l>0?l:0;return c<a.length-1&&a.splice(c+1,0,"."),o.sign+a.join("")}function ir(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},u=r.coefficients;t<=0;)u.unshift(0),r.exponent++,t++;if(u.length>t){var n=u.splice(t,u.length-t);if(n[0]>=5){var i=t-1;for(u[i]++;u[i]===10;)u.pop(),i===0&&(u.unshift(0),r.exponent++,i++),i--,u[i]++}}return r}function _t(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function Pi(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function Mt(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(u<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(e)||isNaN(t)?!1:!isFinite(e)||!isFinite(t)?e===t:e===t?!0:Math.abs(e-t)<=Math.max(r*Math.max(Math.abs(e),Math.abs(t)),u)}function Lr(e,t){if(De(e))return e;if(Ce(e))return e.toNumber();t()}function Zr(e,t){return De(e)?e:Ce(e)?e.toNumber():t}var Nn=function(){return Nn=Qt.create,Qt},Ri=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],$i=re("typed",Ri,function(t){var{BigNumber:r,Complex:u,DenseMatrix:n,Fraction:i}=t,o=Nn();return o.clear(),o.addTypes([{name:"number",test:De},{name:"Complex",test:En},{name:"BigNumber",test:Ce},{name:"bigint",test:Ku},{name:"Fraction",test:An},{name:"Unit",test:Cn},{name:"identifier",test:a=>ke&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(a)},{name:"string",test:ke},{name:"Chain",test:Bi},{name:"Array",test:_e},{name:"Matrix",test:Ae},{name:"DenseMatrix",test:Qu},{name:"SparseMatrix",test:ku},{name:"Range",test:ei},{name:"Index",test:Nr},{name:"boolean",test:ti},{name:"ResultSet",test:ri},{name:"Help",test:ni},{name:"function",test:ui},{name:"Date",test:ii},{name:"RegExp",test:oi},{name:"null",test:si},{name:"undefined",test:fi},{name:"AccessorNode",test:ci},{name:"ArrayNode",test:li},{name:"AssignmentNode",test:hi},{name:"BlockNode",test:Di},{name:"ConditionalNode",test:pi},{name:"ConstantNode",test:di},{name:"FunctionNode",test:gi},{name:"FunctionAssignmentNode",test:mi},{name:"IndexNode",test:vi},{name:"Node",test:Fi},{name:"ObjectNode",test:wi},{name:"OperatorNode",test:Ei},{name:"ParenthesisNode",test:Ai},{name:"RangeNode",test:Ci},{name:"RelationalNode",test:yi},{name:"SymbolNode",test:bi},{name:"Map",test:ai},{name:"Object",test:Mr}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(r||Zt(l),Pi(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new r(l)}},{from:"number",to:"Complex",convert:function(l){return u||Vt(l),new u(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return u||Vt(l),new u(l.toNumber(),0)}},{from:"bigint",to:"number",convert:function(l){if(l>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+l+")");return Number(l)}},{from:"bigint",to:"BigNumber",convert:function(l){return r||Zt(l),new r(l.toString())}},{from:"bigint",to:"Fraction",convert:function(l){return i||Wt(l),new i(l)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return u||Vt(l),new u(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){i||Wt(l);var c=new i(l);if(c.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return c}},{from:"string",to:"number",convert:function(l){var c=Number(l);if(isNaN(c))throw new Error('Cannot convert "'+l+'" to a number');return c}},{from:"string",to:"BigNumber",convert:function(l){r||Zt(l);try{return new r(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(l){try{return BigInt(l)}catch{throw new Error('Cannot convert "'+l+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(l){i||Wt(l);try{return new i(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){u||Vt(l);try{return new u(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return r||Zt(l),new r(+l)}},{from:"boolean",to:"bigint",convert:function(l){return BigInt(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return i||Wt(l),new i(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return n||qi(),new n(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),o.onMismatch=(a,l,c)=>{var s=o.createError(a,l,c);if(["wrongType","mismatch"].includes(s.data.category)&&l.length===1&&jt(l[0])&&c.some(D=>!D.params.includes(","))){var h=new TypeError("Function '".concat(a,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(a,")'."));throw h.data=s.data,h}throw s},o.onMismatch=(a,l,c)=>{var s=o.createError(a,l,c);if(["wrongType","mismatch"].includes(s.data.category)&&l.length===1&&jt(l[0])&&c.some(D=>!D.params.includes(","))){var h=new TypeError("Function '".concat(a,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(a,")'."));throw h.data=s.data,h}throw s},o});function Zt(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Vt(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function qi(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Wt(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.6.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var bt=9e15,Dt=1e9,wr="0123456789abcdef",kt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",er="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Er={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-bt,maxE:bt,crypto:!1},Mn,it,k=!0,or="[DecimalError] ",lt=or+"Invalid argument: ",Sn=or+"Precision limit exceeded",Tn=or+"crypto unavailable",xn="[object Decimal]",Pe=Math.floor,Ne=Math.pow,Ui=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Li=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Zi=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,In=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ke=1e7,j=7,Vi=9007199254740991,Wi=kt.length-1,Ar=er.length-1,O={toStringTag:xn};O.absoluteValue=O.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),H(e)};O.ceil=function(){return H(new this.constructor(this),this.e+1,2)};O.clampedTo=O.clamp=function(e,t){var r,u=this,n=u.constructor;if(e=new n(e),t=new n(t),!e.s||!t.s)return new n(NaN);if(e.gt(t))throw Error(lt+t);return r=u.cmp(e),r<0?e:u.cmp(t)>0?t:new n(u)};O.comparedTo=O.cmp=function(e){var t,r,u,n,i=this,o=i.d,a=(e=new i.constructor(e)).d,l=i.s,c=e.s;if(!o||!a)return!l||!c?NaN:l!==c?l:o===a?0:!o^l<0?1:-1;if(!o[0]||!a[0])return o[0]?l:a[0]?-c:0;if(l!==c)return l;if(i.e!==e.e)return i.e>e.e^l<0?1:-1;for(u=o.length,n=a.length,t=0,r=u<n?u:n;t<r;++t)if(o[t]!==a[t])return o[t]>a[t]^l<0?1:-1;return u===n?0:u>n^l<0?1:-1};O.cosine=O.cos=function(){var e,t,r=this,u=r.constructor;return r.d?r.d[0]?(e=u.precision,t=u.rounding,u.precision=e+Math.max(r.e,r.sd())+j,u.rounding=1,r=Hi(u,$n(u,r)),u.precision=e,u.rounding=t,H(it==2||it==3?r.neg():r,e,t,!0)):new u(1):new u(NaN)};O.cubeRoot=O.cbrt=function(){var e,t,r,u,n,i,o,a,l,c,s=this,h=s.constructor;if(!s.isFinite()||s.isZero())return new h(s);for(k=!1,i=s.s*Ne(s.s*s,1/3),!i||Math.abs(i)==1/0?(r=Ie(s.d),e=s.e,(i=(e-r.length+1)%3)&&(r+=i==1||i==-2?"0":"00"),i=Ne(r,1/3),e=Pe((e+1)/3)-(e%3==(e<0?-1:2)),i==1/0?r="5e"+e:(r=i.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),u=new h(r),u.s=s.s):u=new h(i.toString()),o=(e=h.precision)+3;;)if(a=u,l=a.times(a).times(a),c=l.plus(s),u=le(c.plus(s).times(a),c.plus(l),o+2,1),Ie(a.d).slice(0,o)===(r=Ie(u.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!n&&r=="4999"){if(!n&&(H(a,e+1,0),a.times(a).times(a).eq(s))){u=a;break}o+=4,n=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(H(u,e+1,1),t=!u.times(u).times(u).eq(s));break}return k=!0,H(u,e,h.rounding,t)};O.decimalPlaces=O.dp=function(){var e,t=this.d,r=NaN;if(t){if(e=t.length-1,r=(e-Pe(this.e/j))*j,e=t[e],e)for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r};O.dividedBy=O.div=function(e){return le(this,new this.constructor(e))};O.dividedToIntegerBy=O.divToInt=function(e){var t=this,r=t.constructor;return H(le(t,new r(e),0,1,1),r.precision,r.rounding)};O.equals=O.eq=function(e){return this.cmp(e)===0};O.floor=function(){return H(new this.constructor(this),this.e+1,3)};O.greaterThan=O.gt=function(e){return this.cmp(e)>0};O.greaterThanOrEqualTo=O.gte=function(e){var t=this.cmp(e);return t==1||t===0};O.hyperbolicCosine=O.cosh=function(){var e,t,r,u,n,i=this,o=i.constructor,a=new o(1);if(!i.isFinite())return new o(i.s?1/0:NaN);if(i.isZero())return a;r=o.precision,u=o.rounding,o.precision=r+Math.max(i.e,i.sd())+4,o.rounding=1,n=i.d.length,n<32?(e=Math.ceil(n/3),t=(1/sr(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),i=St(o,1,i.times(t),new o(1),!0);for(var l,c=e,s=new o(8);c--;)l=i.times(i),i=a.minus(l.times(s.minus(l.times(s))));return H(i,o.precision=r,o.rounding=u,!0)};O.hyperbolicSine=O.sinh=function(){var e,t,r,u,n=this,i=n.constructor;if(!n.isFinite()||n.isZero())return new i(n);if(t=i.precision,r=i.rounding,i.precision=t+Math.max(n.e,n.sd())+4,i.rounding=1,u=n.d.length,u<3)n=St(i,2,n,n,!0);else{e=1.4*Math.sqrt(u),e=e>16?16:e|0,n=n.times(1/sr(5,e)),n=St(i,2,n,n,!0);for(var o,a=new i(5),l=new i(16),c=new i(20);e--;)o=n.times(n),n=n.times(a.plus(o.times(l.times(o).plus(c))))}return i.precision=t,i.rounding=r,H(n,t,r,!0)};O.hyperbolicTangent=O.tanh=function(){var e,t,r=this,u=r.constructor;return r.isFinite()?r.isZero()?new u(r):(e=u.precision,t=u.rounding,u.precision=e+7,u.rounding=1,le(r.sinh(),r.cosh(),u.precision=e,u.rounding=t)):new u(r.s)};O.inverseCosine=O.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),u=t.precision,n=t.rounding;return r!==-1?r===0?e.isNeg()?et(t,u,n):new t(0):new t(NaN):e.isZero()?et(t,u+4,n).times(.5):(t.precision=u+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=u,t.rounding=n,e.times(2))};O.inverseHyperbolicCosine=O.acosh=function(){var e,t,r=this,u=r.constructor;return r.lte(1)?new u(r.eq(1)?0:NaN):r.isFinite()?(e=u.precision,t=u.rounding,u.precision=e+Math.max(Math.abs(r.e),r.sd())+4,u.rounding=1,k=!1,r=r.times(r).minus(1).sqrt().plus(r),k=!0,u.precision=e,u.rounding=t,r.ln()):new u(r)};O.inverseHyperbolicSine=O.asinh=function(){var e,t,r=this,u=r.constructor;return!r.isFinite()||r.isZero()?new u(r):(e=u.precision,t=u.rounding,u.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,u.rounding=1,k=!1,r=r.times(r).plus(1).sqrt().plus(r),k=!0,u.precision=e,u.rounding=t,r.ln())};O.inverseHyperbolicTangent=O.atanh=function(){var e,t,r,u,n=this,i=n.constructor;return n.isFinite()?n.e>=0?new i(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(e=i.precision,t=i.rounding,u=n.sd(),Math.max(u,e)<2*-n.e-1?H(new i(n),e,t,!0):(i.precision=r=u-n.e,n=le(n.plus(1),new i(1).minus(n),r+e,1),i.precision=e+4,i.rounding=1,n=n.ln(),i.precision=e,i.rounding=t,n.times(.5))):new i(NaN)};O.inverseSine=O.asin=function(){var e,t,r,u,n=this,i=n.constructor;return n.isZero()?new i(n):(t=n.abs().cmp(1),r=i.precision,u=i.rounding,t!==-1?t===0?(e=et(i,r+4,u).times(.5),e.s=n.s,e):new i(NaN):(i.precision=r+6,i.rounding=1,n=n.div(new i(1).minus(n.times(n)).sqrt().plus(1)).atan(),i.precision=r,i.rounding=u,n.times(2)))};O.inverseTangent=O.atan=function(){var e,t,r,u,n,i,o,a,l,c=this,s=c.constructor,h=s.precision,D=s.rounding;if(c.isFinite()){if(c.isZero())return new s(c);if(c.abs().eq(1)&&h+4<=Ar)return o=et(s,h+4,D).times(.25),o.s=c.s,o}else{if(!c.s)return new s(NaN);if(h+4<=Ar)return o=et(s,h+4,D).times(.5),o.s=c.s,o}for(s.precision=a=h+10,s.rounding=1,r=Math.min(28,a/j+2|0),e=r;e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(k=!1,t=Math.ceil(a/j),u=1,l=c.times(c),o=new s(c),n=c;e!==-1;)if(n=n.times(l),i=o.minus(n.div(u+=2)),n=n.times(l),o=i.plus(n.div(u+=2)),o.d[t]!==void 0)for(e=t;o.d[e]===i.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),k=!0,H(o,s.precision=h,s.rounding=D,!0)};O.isFinite=function(){return!!this.d};O.isInteger=O.isInt=function(){return!!this.d&&Pe(this.e/j)>this.d.length-2};O.isNaN=function(){return!this.s};O.isNegative=O.isNeg=function(){return this.s<0};O.isPositive=O.isPos=function(){return this.s>0};O.isZero=function(){return!!this.d&&this.d[0]===0};O.lessThan=O.lt=function(e){return this.cmp(e)<0};O.lessThanOrEqualTo=O.lte=function(e){return this.cmp(e)<1};O.logarithm=O.log=function(e){var t,r,u,n,i,o,a,l,c=this,s=c.constructor,h=s.precision,D=s.rounding,p=5;if(e==null)e=new s(10),t=!0;else{if(e=new s(e),r=e.d,e.s<0||!r||!r[0]||e.eq(1))return new s(NaN);t=e.eq(10)}if(r=c.d,c.s<0||!r||!r[0]||c.eq(1))return new s(r&&!r[0]?-1/0:c.s!=1?NaN:r?0:1/0);if(t)if(r.length>1)i=!0;else{for(n=r[0];n%10===0;)n/=10;i=n!==1}if(k=!1,a=h+p,o=ft(c,a),u=t?tr(s,a+10):ft(e,a),l=le(o,u,a,1),Rt(l.d,n=h,D))do if(a+=10,o=ft(c,a),u=t?tr(s,a+10):ft(e,a),l=le(o,u,a,1),!i){+Ie(l.d).slice(n+1,n+15)+1==1e14&&(l=H(l,h+1,0));break}while(Rt(l.d,n+=10,D));return k=!0,H(l,h,D)};O.minus=O.sub=function(e){var t,r,u,n,i,o,a,l,c,s,h,D,p=this,d=p.constructor;if(e=new d(e),!p.d||!e.d)return!p.s||!e.s?e=new d(NaN):p.d?e.s=-e.s:e=new d(e.d||p.s!==e.s?p:NaN),e;if(p.s!=e.s)return e.s=-e.s,p.plus(e);if(c=p.d,D=e.d,a=d.precision,l=d.rounding,!c[0]||!D[0]){if(D[0])e.s=-e.s;else if(c[0])e=new d(p);else return new d(l===3?-0:0);return k?H(e,a,l):e}if(r=Pe(e.e/j),s=Pe(p.e/j),c=c.slice(),i=s-r,i){for(h=i<0,h?(t=c,i=-i,o=D.length):(t=D,r=s,o=c.length),u=Math.max(Math.ceil(a/j),o)+2,i>u&&(i=u,t.length=1),t.reverse(),u=i;u--;)t.push(0);t.reverse()}else{for(u=c.length,o=D.length,h=u<o,h&&(o=u),u=0;u<o;u++)if(c[u]!=D[u]){h=c[u]<D[u];break}i=0}for(h&&(t=c,c=D,D=t,e.s=-e.s),o=c.length,u=D.length-o;u>0;--u)c[o++]=0;for(u=D.length;u>i;){if(c[--u]<D[u]){for(n=u;n&&c[--n]===0;)c[n]=Ke-1;--c[n],c[u]+=Ke}c[u]-=D[u]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=ar(c,r),k?H(e,a,l):e):new d(l===3?-0:0)};O.modulo=O.mod=function(e){var t,r=this,u=r.constructor;return e=new u(e),!r.d||!e.s||e.d&&!e.d[0]?new u(NaN):!e.d||r.d&&!r.d[0]?H(new u(r),u.precision,u.rounding):(k=!1,u.modulo==9?(t=le(r,e.abs(),0,3,1),t.s*=e.s):t=le(r,e,0,u.modulo,1),t=t.times(e),k=!0,r.minus(t))};O.naturalExponential=O.exp=function(){return Cr(this)};O.naturalLogarithm=O.ln=function(){return ft(this)};O.negated=O.neg=function(){var e=new this.constructor(this);return e.s=-e.s,H(e)};O.plus=O.add=function(e){var t,r,u,n,i,o,a,l,c,s,h=this,D=h.constructor;if(e=new D(e),!h.d||!e.d)return!h.s||!e.s?e=new D(NaN):h.d||(e=new D(e.d||h.s===e.s?h:NaN)),e;if(h.s!=e.s)return e.s=-e.s,h.minus(e);if(c=h.d,s=e.d,a=D.precision,l=D.rounding,!c[0]||!s[0])return s[0]||(e=new D(h)),k?H(e,a,l):e;if(i=Pe(h.e/j),u=Pe(e.e/j),c=c.slice(),n=i-u,n){for(n<0?(r=c,n=-n,o=s.length):(r=s,u=i,o=c.length),i=Math.ceil(a/j),o=i>o?i+1:o+1,n>o&&(n=o,r.length=1),r.reverse();n--;)r.push(0);r.reverse()}for(o=c.length,n=s.length,o-n<0&&(n=o,r=s,s=c,c=r),t=0;n;)t=(c[--n]=c[n]+s[n]+t)/Ke|0,c[n]%=Ke;for(t&&(c.unshift(t),++u),o=c.length;c[--o]==0;)c.pop();return e.d=c,e.e=ar(c,u),k?H(e,a,l):e};O.precision=O.sd=function(e){var t,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(lt+e);return r.d?(t=On(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t};O.round=function(){var e=this,t=e.constructor;return H(new t(e),e.e+1,t.rounding)};O.sine=O.sin=function(){var e,t,r=this,u=r.constructor;return r.isFinite()?r.isZero()?new u(r):(e=u.precision,t=u.rounding,u.precision=e+Math.max(r.e,r.sd())+j,u.rounding=1,r=Ji(u,$n(u,r)),u.precision=e,u.rounding=t,H(it>2?r.neg():r,e,t,!0)):new u(NaN)};O.squareRoot=O.sqrt=function(){var e,t,r,u,n,i,o=this,a=o.d,l=o.e,c=o.s,s=o.constructor;if(c!==1||!a||!a[0])return new s(!c||c<0&&(!a||a[0])?NaN:a?o:1/0);for(k=!1,c=Math.sqrt(+o),c==0||c==1/0?(t=Ie(a),(t.length+l)%2==0&&(t+="0"),c=Math.sqrt(t),l=Pe((l+1)/2)-(l<0||l%2),c==1/0?t="5e"+l:(t=c.toExponential(),t=t.slice(0,t.indexOf("e")+1)+l),u=new s(t)):u=new s(c.toString()),r=(l=s.precision)+3;;)if(i=u,u=i.plus(le(o,i,r+2,1)).times(.5),Ie(i.d).slice(0,r)===(t=Ie(u.d)).slice(0,r))if(t=t.slice(r-3,r+1),t=="9999"||!n&&t=="4999"){if(!n&&(H(i,l+1,0),i.times(i).eq(o))){u=i;break}r+=4,n=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(H(u,l+1,1),e=!u.times(u).eq(o));break}return k=!0,H(u,l,s.rounding,e)};O.tangent=O.tan=function(){var e,t,r=this,u=r.constructor;return r.isFinite()?r.isZero()?new u(r):(e=u.precision,t=u.rounding,u.precision=e+10,u.rounding=1,r=r.sin(),r.s=1,r=le(r,new u(1).minus(r.times(r)).sqrt(),e+10,0),u.precision=e,u.rounding=t,H(it==2||it==4?r.neg():r,e,t,!0)):new u(NaN)};O.times=O.mul=function(e){var t,r,u,n,i,o,a,l,c,s=this,h=s.constructor,D=s.d,p=(e=new h(e)).d;if(e.s*=s.s,!D||!D[0]||!p||!p[0])return new h(!e.s||D&&!D[0]&&!p||p&&!p[0]&&!D?NaN:!D||!p?e.s/0:e.s*0);for(r=Pe(s.e/j)+Pe(e.e/j),l=D.length,c=p.length,l<c&&(i=D,D=p,p=i,o=l,l=c,c=o),i=[],o=l+c,u=o;u--;)i.push(0);for(u=c;--u>=0;){for(t=0,n=l+u;n>u;)a=i[n]+p[u]*D[n-u-1]+t,i[n--]=a%Ke|0,t=a/Ke|0;i[n]=(i[n]+t)%Ke|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=ar(i,r),k?H(e,h.precision,h.rounding):e};O.toBinary=function(e,t){return Sr(this,2,e,t)};O.toDecimalPlaces=O.toDP=function(e,t){var r=this,u=r.constructor;return r=new u(r),e===void 0?r:(Ze(e,0,Dt),t===void 0?t=u.rounding:Ze(t,0,8),H(r,e+r.e+1,t))};O.toExponential=function(e,t){var r,u=this,n=u.constructor;return e===void 0?r=tt(u,!0):(Ze(e,0,Dt),t===void 0?t=n.rounding:Ze(t,0,8),u=H(new n(u),e+1,t),r=tt(u,!0,e+1)),u.isNeg()&&!u.isZero()?"-"+r:r};O.toFixed=function(e,t){var r,u,n=this,i=n.constructor;return e===void 0?r=tt(n):(Ze(e,0,Dt),t===void 0?t=i.rounding:Ze(t,0,8),u=H(new i(n),e+n.e+1,t),r=tt(u,!1,e+u.e+1)),n.isNeg()&&!n.isZero()?"-"+r:r};O.toFraction=function(e){var t,r,u,n,i,o,a,l,c,s,h,D,p=this,d=p.d,f=p.constructor;if(!d)return new f(p);if(c=r=new f(1),u=l=new f(0),t=new f(u),i=t.e=On(d)-p.e-1,o=i%j,t.d[0]=Ne(10,o<0?j+o:o),e==null)e=i>0?t:c;else{if(a=new f(e),!a.isInt()||a.lt(c))throw Error(lt+a);e=a.gt(t)?i>0?t:c:a}for(k=!1,a=new f(Ie(d)),s=f.precision,f.precision=i=d.length*j*2;h=le(a,t,0,1,1),n=r.plus(h.times(u)),n.cmp(e)!=1;)r=u,u=n,n=c,c=l.plus(h.times(n)),l=n,n=t,t=a.minus(h.times(n)),a=n;return n=le(e.minus(r),u,0,1,1),l=l.plus(n.times(c)),r=r.plus(n.times(u)),l.s=c.s=p.s,D=le(c,u,i,1).minus(p).abs().cmp(le(l,r,i,1).minus(p).abs())<1?[c,u]:[l,r],f.precision=s,k=!0,D};O.toHexadecimal=O.toHex=function(e,t){return Sr(this,16,e,t)};O.toNearest=function(e,t){var r=this,u=r.constructor;if(r=new u(r),e==null){if(!r.d)return r;e=new u(1),t=u.rounding}else{if(e=new u(e),t===void 0?t=u.rounding:Ze(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(k=!1,r=le(r,e,0,t,1).times(e),k=!0,H(r)):(e.s=r.s,r=e),r};O.toNumber=function(){return+this};O.toOctal=function(e,t){return Sr(this,8,e,t)};O.toPower=O.pow=function(e){var t,r,u,n,i,o,a=this,l=a.constructor,c=+(e=new l(e));if(!a.d||!e.d||!a.d[0]||!e.d[0])return new l(Ne(+a,c));if(a=new l(a),a.eq(1))return a;if(u=l.precision,i=l.rounding,e.eq(1))return H(a,u,i);if(t=Pe(e.e/j),t>=e.d.length-1&&(r=c<0?-c:c)<=Vi)return n=zn(l,a,r,u),e.s<0?new l(1).div(n):H(n,u,i);if(o=a.s,o<0){if(t<e.d.length-1)return new l(NaN);if((e.d[t]&1)==0&&(o=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=o,a}return r=Ne(+a,c),t=r==0||!isFinite(r)?Pe(c*(Math.log("0."+Ie(a.d))/Math.LN10+a.e+1)):new l(r+"").e,t>l.maxE+1||t<l.minE-1?new l(t>0?o/0:0):(k=!1,l.rounding=a.s=1,r=Math.min(12,(t+"").length),n=Cr(e.times(ft(a,u+r)),u),n.d&&(n=H(n,u+5,1),Rt(n.d,u,i)&&(t=u+10,n=H(Cr(e.times(ft(a,t+r)),t),t+5,1),+Ie(n.d).slice(u+1,u+15)+1==1e14&&(n=H(n,u+1,0)))),n.s=o,k=!0,l.rounding=i,H(n,u,i))};O.toPrecision=function(e,t){var r,u=this,n=u.constructor;return e===void 0?r=tt(u,u.e<=n.toExpNeg||u.e>=n.toExpPos):(Ze(e,1,Dt),t===void 0?t=n.rounding:Ze(t,0,8),u=H(new n(u),e,t),r=tt(u,e<=u.e||u.e<=n.toExpNeg,e)),u.isNeg()&&!u.isZero()?"-"+r:r};O.toSignificantDigits=O.toSD=function(e,t){var r=this,u=r.constructor;return e===void 0?(e=u.precision,t=u.rounding):(Ze(e,1,Dt),t===void 0?t=u.rounding:Ze(t,0,8)),H(new u(r),e,t)};O.toString=function(){var e=this,t=e.constructor,r=tt(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r};O.truncated=O.trunc=function(){return H(new this.constructor(this),this.e+1,1)};O.valueOf=O.toJSON=function(){var e=this,t=e.constructor,r=tt(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};function Ie(e){var t,r,u,n=e.length-1,i="",o=e[0];if(n>0){for(i+=o,t=1;t<n;t++)u=e[t]+"",r=j-u.length,r&&(i+=st(r)),i+=u;o=e[t],u=o+"",r=j-u.length,r&&(i+=st(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}function Ze(e,t,r){if(e!==~~e||e<t||e>r)throw Error(lt+e)}function Rt(e,t,r,u){var n,i,o,a;for(i=e[0];i>=10;i/=10)--t;return--t<0?(t+=j,n=0):(n=Math.ceil((t+1)/j),t%=j),i=Ne(10,j-t),a=e[n]%i|0,u==null?t<3?(t==0?a=a/100|0:t==1&&(a=a/10|0),o=r<4&&a==99999||r>3&&a==49999||a==5e4||a==0):o=(r<4&&a+1==i||r>3&&a+1==i/2)&&(e[n+1]/i/100|0)==Ne(10,t-2)-1||(a==i/2||a==0)&&(e[n+1]/i/100|0)==0:t<4?(t==0?a=a/1e3|0:t==1?a=a/100|0:t==2&&(a=a/10|0),o=(u||r<4)&&a==9999||!u&&r>3&&a==4999):o=((u||r<4)&&a+1==i||!u&&r>3&&a+1==i/2)&&(e[n+1]/i/1e3|0)==Ne(10,t-3)-1,o}function Gt(e,t,r){for(var u,n=[0],i,o=0,a=e.length;o<a;){for(i=n.length;i--;)n[i]*=t;for(n[0]+=wr.indexOf(e.charAt(o++)),u=0;u<n.length;u++)n[u]>r-1&&(n[u+1]===void 0&&(n[u+1]=0),n[u+1]+=n[u]/r|0,n[u]%=r)}return n.reverse()}function Hi(e,t){var r,u,n;if(t.isZero())return t;u=t.d.length,u<32?(r=Math.ceil(u/3),n=(1/sr(4,r)).toString()):(r=16,n="2.3283064365386962890625e-10"),e.precision+=r,t=St(e,1,t.times(n),new e(1));for(var i=r;i--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}var le=(function(){function e(u,n,i){var o,a=0,l=u.length;for(u=u.slice();l--;)o=u[l]*n+a,u[l]=o%i|0,a=o/i|0;return a&&u.unshift(a),u}function t(u,n,i,o){var a,l;if(i!=o)l=i>o?1:-1;else for(a=l=0;a<i;a++)if(u[a]!=n[a]){l=u[a]>n[a]?1:-1;break}return l}function r(u,n,i,o){for(var a=0;i--;)u[i]-=a,a=u[i]<n[i]?1:0,u[i]=a*o+u[i]-n[i];for(;!u[0]&&u.length>1;)u.shift()}return function(u,n,i,o,a,l){var c,s,h,D,p,d,f,m,w,C,E,b,F,g,y,B,_,S,I,L,G=u.constructor,J=u.s==n.s?1:-1,V=u.d,$=n.d;if(!V||!V[0]||!$||!$[0])return new G(!u.s||!n.s||(V?$&&V[0]==$[0]:!$)?NaN:V&&V[0]==0||!$?J*0:J/0);for(l?(p=1,s=u.e-n.e):(l=Ke,p=j,s=Pe(u.e/p)-Pe(n.e/p)),I=$.length,_=V.length,w=new G(J),C=w.d=[],h=0;$[h]==(V[h]||0);h++);if($[h]>(V[h]||0)&&s--,i==null?(g=i=G.precision,o=G.rounding):a?g=i+(u.e-n.e)+1:g=i,g<0)C.push(1),d=!0;else{if(g=g/p+2|0,h=0,I==1){for(D=0,$=$[0],g++;(h<_||D)&&g--;h++)y=D*l+(V[h]||0),C[h]=y/$|0,D=y%$|0;d=D||h<_}else{for(D=l/($[0]+1)|0,D>1&&($=e($,D,l),V=e(V,D,l),I=$.length,_=V.length),B=I,E=V.slice(0,I),b=E.length;b<I;)E[b++]=0;L=$.slice(),L.unshift(0),S=$[0],$[1]>=l/2&&++S;do D=0,c=t($,E,I,b),c<0?(F=E[0],I!=b&&(F=F*l+(E[1]||0)),D=F/S|0,D>1?(D>=l&&(D=l-1),f=e($,D,l),m=f.length,b=E.length,c=t(f,E,m,b),c==1&&(D--,r(f,I<m?L:$,m,l))):(D==0&&(c=D=1),f=$.slice()),m=f.length,m<b&&f.unshift(0),r(E,f,b,l),c==-1&&(b=E.length,c=t($,E,I,b),c<1&&(D++,r(E,I<b?L:$,b,l))),b=E.length):c===0&&(D++,E=[0]),C[h++]=D,c&&E[0]?E[b++]=V[B]||0:(E=[V[B]],b=1);while((B++<_||E[0]!==void 0)&&g--);d=E[0]!==void 0}C[0]||C.shift()}if(p==1)w.e=s,Mn=d;else{for(h=1,D=C[0];D>=10;D/=10)h++;w.e=h+s*p-1,H(w,a?i+w.e+1:i,o,d)}return w}})();function H(e,t,r,u){var n,i,o,a,l,c,s,h,D,p=e.constructor;e:if(t!=null){if(h=e.d,!h)return e;for(n=1,a=h[0];a>=10;a/=10)n++;if(i=t-n,i<0)i+=j,o=t,s=h[D=0],l=s/Ne(10,n-o-1)%10|0;else if(D=Math.ceil((i+1)/j),a=h.length,D>=a)if(u){for(;a++<=D;)h.push(0);s=l=0,n=1,i%=j,o=i-j+1}else break e;else{for(s=a=h[D],n=1;a>=10;a/=10)n++;i%=j,o=i-j+n,l=o<0?0:s/Ne(10,n-o-1)%10|0}if(u=u||t<0||h[D+1]!==void 0||(o<0?s:s%Ne(10,n-o-1)),c=r<4?(l||u)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(i>0?o>0?s/Ne(10,n-o):0:h[D-1])%10&1||r==(e.s<0?8:7)),t<1||!h[0])return h.length=0,c?(t-=e.e+1,h[0]=Ne(10,(j-t%j)%j),e.e=-t||0):h[0]=e.e=0,e;if(i==0?(h.length=D,a=1,D--):(h.length=D+1,a=Ne(10,j-i),h[D]=o>0?(s/Ne(10,n-o)%Ne(10,o)|0)*a:0),c)for(;;)if(D==0){for(i=1,o=h[0];o>=10;o/=10)i++;for(o=h[0]+=a,a=1;o>=10;o/=10)a++;i!=a&&(e.e++,h[0]==Ke&&(h[0]=1));break}else{if(h[D]+=a,h[D]!=Ke)break;h[D--]=0,a=1}for(i=h.length;h[--i]===0;)h.pop()}return k&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function tt(e,t,r){if(!e.isFinite())return Rn(e);var u,n=e.e,i=Ie(e.d),o=i.length;return t?(r&&(u=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+st(u):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(e.e<0?"e":"e+")+e.e):n<0?(i="0."+st(-n-1)+i,r&&(u=r-o)>0&&(i+=st(u))):n>=o?(i+=st(n+1-o),r&&(u=r-n-1)>0&&(i=i+"."+st(u))):((u=n+1)<o&&(i=i.slice(0,u)+"."+i.slice(u)),r&&(u=r-o)>0&&(n+1===o&&(i+="."),i+=st(u))),i}function ar(e,t){var r=e[0];for(t*=j;r>=10;r/=10)t++;return t}function tr(e,t,r){if(t>Wi)throw k=!0,r&&(e.precision=r),Error(Sn);return H(new e(kt),t,1,!0)}function et(e,t,r){if(t>Ar)throw Error(Sn);return H(new e(er),t,r,!0)}function On(e){var t=e.length-1,r=t*j+1;if(t=e[t],t){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function st(e){for(var t="";e--;)t+="0";return t}function zn(e,t,r,u){var n,i=new e(1),o=Math.ceil(u/j+4);for(k=!1;;){if(r%2&&(i=i.times(t),Wr(i.d,o)&&(n=!0)),r=Pe(r/2),r===0){r=i.d.length-1,n&&i.d[r]===0&&++i.d[r];break}t=t.times(t),Wr(t.d,o)}return k=!0,i}function Vr(e){return e.d[e.d.length-1]&1}function Pn(e,t,r){for(var u,n,i=new e(t[0]),o=0;++o<t.length;){if(n=new e(t[o]),!n.s){i=n;break}u=i.cmp(n),(u===r||u===0&&i.s===r)&&(i=n)}return i}function Cr(e,t){var r,u,n,i,o,a,l,c=0,s=0,h=0,D=e.constructor,p=D.rounding,d=D.precision;if(!e.d||!e.d[0]||e.e>17)return new D(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(k=!1,l=d):l=t,a=new D(.03125);e.e>-2;)e=e.times(a),h+=5;for(u=Math.log(Ne(2,h))/Math.LN10*2+5|0,l+=u,r=i=o=new D(1),D.precision=l;;){if(i=H(i.times(e),l,1),r=r.times(++s),a=o.plus(le(i,r,l,1)),Ie(a.d).slice(0,l)===Ie(o.d).slice(0,l)){for(n=h;n--;)o=H(o.times(o),l,1);if(t==null)if(c<3&&Rt(o.d,l-u,p,c))D.precision=l+=10,r=i=a=new D(1),s=0,c++;else return H(o,D.precision=d,p,k=!0);else return D.precision=d,o}o=a}}function ft(e,t){var r,u,n,i,o,a,l,c,s,h,D,p=1,d=10,f=e,m=f.d,w=f.constructor,C=w.rounding,E=w.precision;if(f.s<0||!m||!m[0]||!f.e&&m[0]==1&&m.length==1)return new w(m&&!m[0]?-1/0:f.s!=1?NaN:m?0:f);if(t==null?(k=!1,s=E):s=t,w.precision=s+=d,r=Ie(m),u=r.charAt(0),Math.abs(i=f.e)<15e14){for(;u<7&&u!=1||u==1&&r.charAt(1)>3;)f=f.times(e),r=Ie(f.d),u=r.charAt(0),p++;i=f.e,u>1?(f=new w("0."+r),i++):f=new w(u+"."+r.slice(1))}else return c=tr(w,s+2,E).times(i+""),f=ft(new w(u+"."+r.slice(1)),s-d).plus(c),w.precision=E,t==null?H(f,E,C,k=!0):f;for(h=f,l=o=f=le(f.minus(1),f.plus(1),s,1),D=H(f.times(f),s,1),n=3;;){if(o=H(o.times(D),s,1),c=l.plus(le(o,new w(n),s,1)),Ie(c.d).slice(0,s)===Ie(l.d).slice(0,s))if(l=l.times(2),i!==0&&(l=l.plus(tr(w,s+2,E).times(i+""))),l=le(l,new w(p),s,1),t==null)if(Rt(l.d,s-d,C,a))w.precision=s+=d,c=o=f=le(h.minus(1),h.plus(1),s,1),D=H(f.times(f),s,1),n=a=1;else return H(l,w.precision=E,C,k=!0);else return w.precision=E,l;l=c,n+=2}}function Rn(e){return String(e.s*e.s/0)}function Jt(e,t){var r,u,n;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(u=t.search(/e/i))>0?(r<0&&(r=u),r+=+t.slice(u+1),t=t.substring(0,u)):r<0&&(r=t.length),u=0;t.charCodeAt(u)===48;u++);for(n=t.length;t.charCodeAt(n-1)===48;--n);if(t=t.slice(u,n),t){if(n-=u,e.e=r=r-u-1,e.d=[],u=(r+1)%j,r<0&&(u+=j),u<n){for(u&&e.d.push(+t.slice(0,u)),n-=j;u<n;)e.d.push(+t.slice(u,u+=j));t=t.slice(u),u=j-t.length}else u-=n;for(;u--;)t+="0";e.d.push(+t),k&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Gi(e,t){var r,u,n,i,o,a,l,c,s;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),In.test(t))return Jt(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(Li.test(t))r=16,t=t.toLowerCase();else if(Ui.test(t))r=2;else if(Zi.test(t))r=8;else throw Error(lt+t);for(i=t.search(/p/i),i>0?(l=+t.slice(i+1),t=t.substring(2,i)):t=t.slice(2),i=t.indexOf("."),o=i>=0,u=e.constructor,o&&(t=t.replace(".",""),a=t.length,i=a-i,n=zn(u,new u(r),i,i*2)),c=Gt(t,r,Ke),s=c.length-1,i=s;c[i]===0;--i)c.pop();return i<0?new u(e.s*0):(e.e=ar(c,s),e.d=c,k=!1,o&&(e=le(e,n,a*4)),l&&(e=e.times(Math.abs(l)<54?Ne(2,l):Tt.pow(2,l))),k=!0,e)}function Ji(e,t){var r,u=t.d.length;if(u<3)return t.isZero()?t:St(e,2,t,t);r=1.4*Math.sqrt(u),r=r>16?16:r|0,t=t.times(1/sr(5,r)),t=St(e,2,t,t);for(var n,i=new e(5),o=new e(16),a=new e(20);r--;)n=t.times(t),t=t.times(i.plus(n.times(o.times(n).minus(a))));return t}function St(e,t,r,u,n){var i,o,a,l,c=e.precision,s=Math.ceil(c/j);for(k=!1,l=r.times(r),a=new e(u);;){if(o=le(a.times(l),new e(t++*t++),c,1),a=n?u.plus(o):u.minus(o),u=le(o.times(l),new e(t++*t++),c,1),o=a.plus(u),o.d[s]!==void 0){for(i=s;o.d[i]===a.d[i]&&i--;);if(i==-1)break}i=a,a=u,u=o,o=i}return k=!0,o.d.length=s+1,o}function sr(e,t){for(var r=e;--t;)r*=e;return r}function $n(e,t){var r,u=t.s<0,n=et(e,e.precision,1),i=n.times(.5);if(t=t.abs(),t.lte(i))return it=u?4:1,t;if(r=t.divToInt(n),r.isZero())it=u?3:2;else{if(t=t.minus(r.times(n)),t.lte(i))return it=Vr(r)?u?2:3:u?4:1,t;it=Vr(r)?u?1:4:u?3:2}return t.minus(n).abs()}function Sr(e,t,r,u){var n,i,o,a,l,c,s,h,D,p=e.constructor,d=r!==void 0;if(d?(Ze(r,1,Dt),u===void 0?u=p.rounding:Ze(u,0,8)):(r=p.precision,u=p.rounding),!e.isFinite())s=Rn(e);else{for(s=tt(e),o=s.indexOf("."),d?(n=2,t==16?r=r*4-3:t==8&&(r=r*3-2)):n=t,o>=0&&(s=s.replace(".",""),D=new p(1),D.e=s.length-o,D.d=Gt(tt(D),10,n),D.e=D.d.length),h=Gt(s,10,n),i=l=h.length;h[--l]==0;)h.pop();if(!h[0])s=d?"0p+0":"0";else{if(o<0?i--:(e=new p(e),e.d=h,e.e=i,e=le(e,D,r,u,0,n),h=e.d,i=e.e,c=Mn),o=h[r],a=n/2,c=c||h[r+1]!==void 0,c=u<4?(o!==void 0||c)&&(u===0||u===(e.s<0?3:2)):o>a||o===a&&(u===4||c||u===6&&h[r-1]&1||u===(e.s<0?8:7)),h.length=r,c)for(;++h[--r]>n-1;)h[r]=0,r||(++i,h.unshift(1));for(l=h.length;!h[l-1];--l);for(o=0,s="";o<l;o++)s+=wr.charAt(h[o]);if(d){if(l>1)if(t==16||t==8){for(o=t==16?4:3,--l;l%o;l++)s+="0";for(h=Gt(s,n,t),l=h.length;!h[l-1];--l);for(o=1,s="1.";o<l;o++)s+=wr.charAt(h[o])}else s=s.charAt(0)+"."+s.slice(1);s=s+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)s="0"+s;s="0."+s}else if(++i>l)for(i-=l;i--;)s+="0";else i<l&&(s=s.slice(0,i)+"."+s.slice(i))}s=(t==16?"0x":t==2?"0b":t==8?"0o":"")+s}return e.s<0?"-"+s:s}function Wr(e,t){if(e.length>t)return e.length=t,!0}function Yi(e){return new this(e).abs()}function Xi(e){return new this(e).acos()}function ji(e){return new this(e).acosh()}function Ki(e,t){return new this(e).plus(t)}function Qi(e){return new this(e).asin()}function ki(e){return new this(e).asinh()}function eo(e){return new this(e).atan()}function to(e){return new this(e).atanh()}function ro(e,t){e=new this(e),t=new this(t);var r,u=this.precision,n=this.rounding,i=u+4;return!e.s||!t.s?r=new this(NaN):!e.d&&!t.d?(r=et(this,i,1).times(t.s>0?.25:.75),r.s=e.s):!t.d||e.isZero()?(r=t.s<0?et(this,u,n):new this(0),r.s=e.s):!e.d||t.isZero()?(r=et(this,i,1).times(.5),r.s=e.s):t.s<0?(this.precision=i,this.rounding=1,r=this.atan(le(e,t,i,1)),t=et(this,i,1),this.precision=u,this.rounding=n,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(le(e,t,i,1)),r}function no(e){return new this(e).cbrt()}function uo(e){return H(e=new this(e),e.e+1,2)}function io(e,t,r){return new this(e).clamp(t,r)}function oo(e){if(!e||typeof e!="object")throw Error(or+"Object expected");var t,r,u,n=e.defaults===!0,i=["precision",1,Dt,"rounding",0,8,"toExpNeg",-bt,0,"toExpPos",0,bt,"maxE",0,bt,"minE",-bt,0,"modulo",0,9];for(t=0;t<i.length;t+=3)if(r=i[t],n&&(this[r]=Er[r]),(u=e[r])!==void 0)if(Pe(u)===u&&u>=i[t+1]&&u<=i[t+2])this[r]=u;else throw Error(lt+r+": "+u);if(r="crypto",n&&(this[r]=Er[r]),(u=e[r])!==void 0)if(u===!0||u===!1||u===0||u===1)if(u)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(Tn);else this[r]=!1;else throw Error(lt+r+": "+u);return this}function ao(e){return new this(e).cos()}function so(e){return new this(e).cosh()}function qn(e){var t,r,u;function n(i){var o,a,l,c=this;if(!(c instanceof n))return new n(i);if(c.constructor=n,Hr(i)){c.s=i.s,k?!i.d||i.e>n.maxE?(c.e=NaN,c.d=null):i.e<n.minE?(c.e=0,c.d=[0]):(c.e=i.e,c.d=i.d.slice()):(c.e=i.e,c.d=i.d?i.d.slice():i.d);return}if(l=typeof i,l==="number"){if(i===0){c.s=1/i<0?-1:1,c.e=0,c.d=[0];return}if(i<0?(i=-i,c.s=-1):c.s=1,i===~~i&&i<1e7){for(o=0,a=i;a>=10;a/=10)o++;k?o>n.maxE?(c.e=NaN,c.d=null):o<n.minE?(c.e=0,c.d=[0]):(c.e=o,c.d=[i]):(c.e=o,c.d=[i]);return}if(i*0!==0){i||(c.s=NaN),c.e=NaN,c.d=null;return}return Jt(c,i.toString())}if(l==="string")return(a=i.charCodeAt(0))===45?(i=i.slice(1),c.s=-1):(a===43&&(i=i.slice(1)),c.s=1),In.test(i)?Jt(c,i):Gi(c,i);if(l==="bigint")return i<0?(i=-i,c.s=-1):c.s=1,Jt(c,i.toString());throw Error(lt+i)}if(n.prototype=O,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.EUCLID=9,n.config=n.set=oo,n.clone=qn,n.isDecimal=Hr,n.abs=Yi,n.acos=Xi,n.acosh=ji,n.add=Ki,n.asin=Qi,n.asinh=ki,n.atan=eo,n.atanh=to,n.atan2=ro,n.cbrt=no,n.ceil=uo,n.clamp=io,n.cos=ao,n.cosh=so,n.div=fo,n.exp=co,n.floor=lo,n.hypot=ho,n.ln=Do,n.log=po,n.log10=go,n.log2=mo,n.max=vo,n.min=Fo,n.mod=wo,n.mul=Eo,n.pow=Ao,n.random=Co,n.round=yo,n.sign=bo,n.sin=Bo,n.sinh=_o,n.sqrt=No,n.sub=Mo,n.sum=So,n.tan=To,n.tanh=xo,n.trunc=Io,e===void 0&&(e={}),e&&e.defaults!==!0)for(u=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<u.length;)e.hasOwnProperty(r=u[t++])||(e[r]=this[r]);return n.config(e),n}function fo(e,t){return new this(e).div(t)}function co(e){return new this(e).exp()}function lo(e){return H(e=new this(e),e.e+1,3)}function ho(){var e,t,r=new this(0);for(k=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return k=!0,new this(1/0);r=t}return k=!0,r.sqrt()}function Hr(e){return e instanceof Tt||e&&e.toStringTag===xn||!1}function Do(e){return new this(e).ln()}function po(e,t){return new this(e).log(t)}function mo(e){return new this(e).log(2)}function go(e){return new this(e).log(10)}function vo(){return Pn(this,arguments,-1)}function Fo(){return Pn(this,arguments,1)}function wo(e,t){return new this(e).mod(t)}function Eo(e,t){return new this(e).mul(t)}function Ao(e,t){return new this(e).pow(t)}function Co(e){var t,r,u,n,i=0,o=new this(1),a=[];if(e===void 0?e=this.precision:Ze(e,1,Dt),u=Math.ceil(e/j),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(u));i<u;)n=t[i],n>=429e7?t[i]=crypto.getRandomValues(new Uint32Array(1))[0]:a[i++]=n%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(u*=4);i<u;)n=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+((t[i+3]&127)<<24),n>=214e7?crypto.randomBytes(4).copy(t,i):(a.push(n%1e7),i+=4);i=u/4}else throw Error(Tn);else for(;i<u;)a[i++]=Math.random()*1e7|0;for(u=a[--i],e%=j,u&&e&&(n=Ne(10,j-e),a[i]=(u/n|0)*n);a[i]===0;i--)a.pop();if(i<0)r=0,a=[0];else{for(r=-1;a[0]===0;r-=j)a.shift();for(u=1,n=a[0];n>=10;n/=10)u++;u<j&&(r-=j-u)}return o.e=r,o.d=a,o}function yo(e){return H(e=new this(e),e.e+1,this.rounding)}function bo(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function Bo(e){return new this(e).sin()}function _o(e){return new this(e).sinh()}function No(e){return new this(e).sqrt()}function Mo(e,t){return new this(e).sub(t)}function So(){var e=0,t=arguments,r=new this(t[e]);for(k=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return k=!0,H(r,this.precision,this.rounding)}function To(e){return new this(e).tan()}function xo(e){return new this(e).tanh()}function Io(e){return H(e=new this(e),e.e+1,1)}O[Symbol.for("nodejs.util.inspect.custom")]=O.toString;O[Symbol.toStringTag]="Decimal";var Tt=O.constructor=qn(Er);kt=new Tt(kt);er=new Tt(er);var Oo="BigNumber",zo=["?on","config"],Po=re(Oo,zo,e=>{var{on:t,config:r}=e,u=Tt.clone({precision:r.precision,modulo:Tt.EUCLID});return u.prototype=Object.create(u.prototype),u.prototype.type="BigNumber",u.prototype.isBigNumber=!0,u.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},u.fromJSON=function(n){return new u(n.value)},t&&t("config",function(n,i){n.precision!==i.precision&&u.config({precision:n.precision})}),u},{isClass:!0});const ze=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:(Math.exp(e)+Math.exp(-e))*.5},Ye=Math.sinh||function(e){return Math.abs(e)<1e-9?e:(Math.exp(e)-Math.exp(-e))*.5},Ro=e=>{const t=Math.sin(.5*e);return-2*t*t},mr=function(e,t){return e=Math.abs(e),t=Math.abs(t),e<t&&([e,t]=[t,e]),e<1e8?Math.sqrt(e*e+t*t):(t/=e,e*Math.sqrt(1+t*t))},At=function(){throw SyntaxError("Invalid Param")};function gr(e,t){const r=Math.abs(e),u=Math.abs(t);return e===0?Math.log(u):t===0?Math.log(r):r<3e3&&u<3e3?Math.log(e*e+t*t)*.5:(e=e*.5,t=t*.5,.5*Math.log(e*e+t*t)+Math.LN2)}const $o={re:0,im:0},dt=function(e,t){const r=$o;if(e==null)r.re=r.im=0;else if(t!==void 0)r.re=e,r.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)r.re=e.re,r.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return N.INFINITY;r.re=e.abs*Math.cos(e.arg),r.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return N.INFINITY;r.re=e.r*Math.cos(e.phi),r.im=e.r*Math.sin(e.phi)}else e.length===2?(r.re=e[0],r.im=e[1]):At();break;case"string":r.im=r.re=0;const u=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let n=1,i=0;u===null&&At();for(let o=0;o<u.length;o++){const a=u[o];a===" "||a==="	"||a===`
`||(a==="+"?n++:a==="-"?i++:a==="i"||a==="I"?(n+i===0&&At(),u[o+1]!==" "&&!isNaN(u[o+1])?(r.im+=parseFloat((i%2?"-":"")+u[o+1]),o++):r.im+=parseFloat((i%2?"-":"")+"1"),n=i=0):((n+i===0||isNaN(a))&&At(),u[o+1]==="i"||u[o+1]==="I"?(r.im+=parseFloat((i%2?"-":"")+a),o++):r.re+=parseFloat((i%2?"-":"")+a),n=i=0))}n+i>0&&At();break;case"number":r.im=0,r.re=e;break;default:At()}return isNaN(r.re)||isNaN(r.im),r};function N(e,t){if(!(this instanceof N))return new N(e,t);const r=dt(e,t);this.re=r.re,this.im=r.im}N.prototype={re:0,im:0,sign:function(){const e=mr(this.re,this.im);return new N(this.re/e,this.im/e)},add:function(e,t){const r=dt(e,t),u=this.isInfinite(),n=!(isFinite(r.re)&&isFinite(r.im));return u||n?u&&n?N.NAN:N.INFINITY:new N(this.re+r.re,this.im+r.im)},sub:function(e,t){const r=dt(e,t),u=this.isInfinite(),n=!(isFinite(r.re)&&isFinite(r.im));return u||n?u&&n?N.NAN:N.INFINITY:new N(this.re-r.re,this.im-r.im)},mul:function(e,t){const r=dt(e,t),u=this.isInfinite(),n=!(isFinite(r.re)&&isFinite(r.im)),i=this.re===0&&this.im===0,o=r.re===0&&r.im===0;return u&&o||n&&i?N.NAN:u||n?N.INFINITY:r.im===0&&this.im===0?new N(this.re*r.re,0):new N(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(e,t){const r=dt(e,t),u=this.isInfinite(),n=!(isFinite(r.re)&&isFinite(r.im)),i=this.re===0&&this.im===0,o=r.re===0&&r.im===0;if(i&&o||u&&n)return N.NAN;if(o||u)return N.INFINITY;if(i||n)return N.ZERO;if(r.im===0)return new N(this.re/r.re,this.im/r.re);if(Math.abs(r.re)<Math.abs(r.im)){const a=r.re/r.im,l=r.re*a+r.im;return new N((this.re*a+this.im)/l,(this.im*a-this.re)/l)}else{const a=r.im/r.re,l=r.im*a+r.re;return new N((this.re+this.im*a)/l,(this.im-this.re*a)/l)}},pow:function(e,t){const r=dt(e,t),u=this.re===0&&this.im===0;if(r.re===0&&r.im===0)return N.ONE;if(r.im===0){if(this.im===0&&this.re>0)return new N(Math.pow(this.re,r.re),0);if(this.re===0)switch((r.re%4+4)%4){case 0:return new N(Math.pow(this.im,r.re),0);case 1:return new N(0,Math.pow(this.im,r.re));case 2:return new N(-Math.pow(this.im,r.re),0);case 3:return new N(0,-Math.pow(this.im,r.re))}}if(u&&r.re>0)return N.ZERO;const i=Math.atan2(this.im,this.re),o=gr(this.re,this.im);let a=Math.exp(r.re*o-r.im*i),l=r.im*o+r.re*i;return new N(a*Math.cos(l),a*Math.sin(l))},sqrt:function(){const e=this.re,t=this.im;if(t===0)return e>=0?new N(Math.sqrt(e),0):new N(0,Math.sqrt(-e));const r=mr(e,t);let u=Math.sqrt(.5*(r+Math.abs(e))),n=Math.abs(t)/(2*u);return e>=0?new N(u,t<0?-n:n):new N(n,t<0?-u:u)},exp:function(){const e=Math.exp(this.re);return this.im===0?new N(e,0):new N(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,t=this.im;return new N(Math.expm1(e)*Math.cos(t)+Ro(t),Math.exp(e)*Math.sin(t))},log:function(){const e=this.re,t=this.im;return t===0&&e>0?new N(Math.log(e),0):new N(gr(e,t),Math.atan2(t,e))},abs:function(){return mr(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,t=this.im;return new N(Math.sin(e)*ze(t),Math.cos(e)*Ye(t))},cos:function(){const e=this.re,t=this.im;return new N(Math.cos(e)*ze(t),-Math.sin(e)*Ye(t))},tan:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)+ze(t);return new N(Math.sin(e)/r,Ye(t)/r)},cot:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)-ze(t);return new N(-Math.sin(e)/r,Ye(t)/r)},sec:function(){const e=this.re,t=this.im,r=.5*ze(2*t)+.5*Math.cos(2*e);return new N(Math.cos(e)*ze(t)/r,Math.sin(e)*Ye(t)/r)},csc:function(){const e=this.re,t=this.im,r=.5*ze(2*t)-.5*Math.cos(2*e);return new N(Math.sin(e)*ze(t)/r,-Math.cos(e)*Ye(t)/r)},asin:function(){const e=this.re,t=this.im,r=new N(t*t-e*e+1,-2*e*t).sqrt(),u=new N(r.re-t,r.im+e).log();return new N(u.im,-u.re)},acos:function(){const e=this.re,t=this.im,r=new N(t*t-e*e+1,-2*e*t).sqrt(),u=new N(r.re-t,r.im+e).log();return new N(Math.PI/2-u.im,u.re)},atan:function(){const e=this.re,t=this.im;if(e===0){if(t===1)return new N(0,1/0);if(t===-1)return new N(0,-1/0)}const r=e*e+(1-t)*(1-t),u=new N((1-t*t-e*e)/r,-2*e/r).log();return new N(-.5*u.im,.5*u.re)},acot:function(){const e=this.re,t=this.im;if(t===0)return new N(Math.atan2(1,e),0);const r=e*e+t*t;return r!==0?new N(e/r,-t/r).atan():new N(e!==0?e/0:0,t!==0?-t/0:0).atan()},asec:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new N(0,1/0);const r=e*e+t*t;return r!==0?new N(e/r,-t/r).acos():new N(e!==0?e/0:0,t!==0?-t/0:0).acos()},acsc:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new N(Math.PI/2,1/0);const r=e*e+t*t;return r!==0?new N(e/r,-t/r).asin():new N(e!==0?e/0:0,t!==0?-t/0:0).asin()},sinh:function(){const e=this.re,t=this.im;return new N(Ye(e)*Math.cos(t),ze(e)*Math.sin(t))},cosh:function(){const e=this.re,t=this.im;return new N(ze(e)*Math.cos(t),Ye(e)*Math.sin(t))},tanh:function(){const e=2*this.re,t=2*this.im,r=ze(e)+Math.cos(t);return new N(Ye(e)/r,Math.sin(t)/r)},coth:function(){const e=2*this.re,t=2*this.im,r=ze(e)-Math.cos(t);return new N(Ye(e)/r,-Math.sin(t)/r)},csch:function(){const e=this.re,t=this.im,r=Math.cos(2*t)-ze(2*e);return new N(-2*Ye(e)*Math.cos(t)/r,2*ze(e)*Math.sin(t)/r)},sech:function(){const e=this.re,t=this.im,r=Math.cos(2*t)+ze(2*e);return new N(2*ze(e)*Math.cos(t)/r,-2*Ye(e)*Math.sin(t)/r)},asinh:function(){const e=this.re,t=this.im;if(t===0){if(e===0)return new N(0,0);const i=Math.abs(e),o=Math.log(i+Math.sqrt(i*i+1));return new N(e<0?-o:o,0)}const r=e*e-t*t+1,u=2*e*t,n=new N(r,u).sqrt();return new N(e+n.re,t+n.im).log()},acosh:function(){const e=this.re,t=this.im;if(t===0){if(e>1)return new N(Math.log(e+Math.sqrt(e-1)*Math.sqrt(e+1)),0);if(e<-1){const n=Math.sqrt(e*e-1);return new N(Math.log(-e+n),Math.PI)}return new N(0,Math.acos(e))}const r=new N(e-1,t).sqrt(),u=new N(e+1,t).sqrt();return new N(e+r.re*u.re-r.im*u.im,t+r.re*u.im+r.im*u.re).log()},atanh:function(){const e=this.re,t=this.im;if(t===0){if(e===0)return new N(0,0);if(e===1)return new N(1/0,0);if(e===-1)return new N(-1/0,0);if(-1<e&&e<1)return new N(.5*Math.log((1+e)/(1-e)),0);if(e>1){const l=(e+1)/(e-1);return new N(.5*Math.log(l),-Math.PI/2)}const a=(1+e)/(1-e);return new N(.5*Math.log(-a),Math.PI/2)}const r=1-e,u=1+e,n=r*r+t*t;if(n===0)return new N(e!==-1?e/0:0,t!==0?t/0:0);const i=(u*r-t*t)/n,o=(t*r+u*t)/n;return new N(gr(i,o)/2,Math.atan2(o,i)/2)},acoth:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new N(0,Math.PI/2);const r=e*e+t*t;return r!==0?new N(e/r,-t/r).atanh():new N(e!==0?e/0:0,t!==0?-t/0:0).atanh()},acsch:function(){const e=this.re,t=this.im;if(t===0){if(e===0)return new N(1/0,0);const u=1/e;return new N(Math.log(u+Math.sqrt(u*u+1)),0)}const r=e*e+t*t;return r!==0?new N(e/r,-t/r).asinh():new N(e!==0?e/0:0,t!==0?-t/0:0).asinh()},asech:function(){const e=this.re,t=this.im;if(this.isZero())return N.INFINITY;const r=e*e+t*t;return r!==0?new N(e/r,-t/r).acosh():new N(e!==0?e/0:0,t!==0?-t/0:0).acosh()},inverse:function(){if(this.isZero())return N.INFINITY;if(this.isInfinite())return N.ZERO;const e=this.re,t=this.im,r=e*e+t*t;return new N(e/r,-t/r)},conjugate:function(){return new N(this.re,-this.im)},neg:function(){return new N(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new N(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new N(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new N(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){const r=dt(e,t);return Math.abs(r.re-this.re)<=N.EPSILON&&Math.abs(r.im-this.im)<=N.EPSILON},clone:function(){return new N(this.re,this.im)},toString:function(){let e=this.re,t=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<N.EPSILON&&(e=0),Math.abs(t)<N.EPSILON&&(t=0),t===0?r+e:(e!==0?(r+=e,r+=" ",t<0?(t=-t,r+="-"):r+="+",r+=" "):t<0&&(t=-t,r+="-"),t!==1&&(r+=t),r+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};N.ZERO=new N(0,0);N.ONE=new N(1,0);N.I=new N(0,1);N.PI=new N(Math.PI,0);N.E=new N(Math.E,0);N.INFINITY=new N(1/0,1/0);N.NAN=new N(NaN,NaN);N.EPSILON=1e-15;var qo="Complex",Uo=[],Lo=re(qo,Uo,()=>(Object.defineProperty(N,"name",{value:"Complex"}),N.prototype.constructor=N,N.prototype.type="Complex",N.prototype.isComplex=!0,N.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},N.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},N.prototype.format=function(e){var t="",r=this.im,u=this.re,n=Fr(this.re,e),i=Fr(this.im,e),o=De(e)?e:e?e.precision:null;if(o!==null){var a=Math.pow(10,-o);Math.abs(u/r)<a&&(u=0),Math.abs(r/u)<a&&(r=0)}return r===0?t=n:u===0?r===1?t="i":r===-1?t="-i":t=i+"i":r<0?r===-1?t=n+" - i":t=n+" - "+i.substring(1)+"i":r===1?t=n+" + i":t=n+" + "+i+"i",t},N.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return N(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],u=arguments[1];if(De(r)){if(Cn(u)&&u.hasBase("ANGLE")&&(u=u.toNumber("rad")),De(u))return new N({r,phi:u});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},N.prototype.valueOf=N.prototype.toString,N.fromJSON=function(e){return new N(e)},N.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},N),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(e){if(isNaN(e))throw new Error("");return e});const W=BigInt(0),te=BigInt(1),Te=BigInt(2),Pt=BigInt(3),Bt=BigInt(5),Le=BigInt(10);BigInt(Number.MAX_SAFE_INTEGER);const Zo=2e3,U={s:te,n:W,d:te};function ut(e,t){try{e=BigInt(e)}catch{throw at()}return e*t}function je(e){return typeof e=="bigint"?e:Math.floor(e)}function pe(e,t){if(t===W)throw Tr();const r=Object.create(Xe.prototype);r.s=e<W?-te:te,e=e<W?-e:e;const u=mt(e,t);return r.n=e/u,r.d=t/u,r}const Vo=[Te*Te,Te,Te*Te,Te,Te*Te,Te*Pt,Te,Te*Pt];function Ct(e){const t=Object.create(null);if(e<=te)return t[e]=te,t;const r=u=>{t[u]=(t[u]||W)+te};for(;e%Te===W;)r(Te),e/=Te;for(;e%Pt===W;)r(Pt),e/=Pt;for(;e%Bt===W;)r(Bt),e/=Bt;for(let u=0,n=Te+Bt;n*n<=e;){for(;e%n===W;)r(n),e/=n;n+=Vo[u],u=u+1&7}return e>te&&r(e),t}const Se=function(e,t){let r=W,u=te,n=te;if(e!=null)if(t!==void 0){if(typeof e=="bigint")r=e;else{if(isNaN(e))throw at();if(e%1!==0)throw Gr();r=BigInt(e)}if(typeof t=="bigint")u=t;else{if(isNaN(t))throw at();if(t%1!==0)throw Gr();u=BigInt(t)}n=r*u}else if(typeof e=="object"){if("d"in e&&"n"in e)r=BigInt(e.n),u=BigInt(e.d),"s"in e&&(r*=BigInt(e.s));else if(0 in e)r=BigInt(e[0]),1 in e&&(u=BigInt(e[1]));else if(typeof e=="bigint")r=e;else throw at();n=r*u}else if(typeof e=="number"){if(isNaN(e))throw at();if(e<0&&(n=-te,e=-e),e%1===0)r=BigInt(e);else{let i=1,o=0,a=1,l=1,c=1,s=1e7;for(e>=1&&(i=10**Math.floor(1+Math.log10(e)),e/=i);a<=s&&c<=s;){let h=(o+l)/(a+c);if(e===h){a+c<=s?(r=o+l,u=a+c):c>a?(r=l,u=c):(r=o,u=a);break}else e>h?(o+=l,a+=c):(l+=o,c+=a),a>s?(r=l,u=c):(r=o,u=a)}r=BigInt(r)*BigInt(i),u=BigInt(u)}}else if(typeof e=="string"){let i=0,o=W,a=W,l=W,c=te,s=te,h=e.replace(/_/g,"").match(/\d+|./g);if(h===null)throw at();if(h[i]==="-"?(n=-te,i++):h[i]==="+"&&i++,h.length===i+1?a=ut(h[i++],n):h[i+1]==="."||h[i]==="."?(h[i]!=="."&&(o=ut(h[i++],n)),i++,(i+1===h.length||h[i+1]==="("&&h[i+3]===")"||h[i+1]==="'"&&h[i+3]==="'")&&(a=ut(h[i],n),c=Le**BigInt(h[i].length),i++),(h[i]==="("&&h[i+2]===")"||h[i]==="'"&&h[i+2]==="'")&&(l=ut(h[i+1],n),s=Le**BigInt(h[i+1].length)-te,i+=3)):h[i+1]==="/"||h[i+1]===":"?(a=ut(h[i],n),c=ut(h[i+2],te),i+=3):h[i+3]==="/"&&h[i+1]===" "&&(o=ut(h[i],n),a=ut(h[i+2],n),c=ut(h[i+4],te),i+=5),h.length<=i)u=c*s,n=r=l+u*o+s*a;else throw at()}else if(typeof e=="bigint")r=e,n=e,u=te;else throw at();if(u===W)throw Tr();U.s=n<W?-te:te,U.n=r<W?-r:r,U.d=u<W?-u:u};function Wo(e,t,r){let u=te;for(;t>W;e=e*e%r,t>>=te)t&te&&(u=u*e%r);return u}function Ho(e,t){for(;t%Te===W;t/=Te);for(;t%Bt===W;t/=Bt);if(t===te)return W;let r=Le%t,u=1;for(;r!==te;u++)if(r=r*Le%t,u>Zo)return W;return BigInt(u)}function Go(e,t,r){let u=te,n=Wo(Le,r,t);for(let i=0;i<300;i++){if(u===n)return BigInt(i);u=u*Le%t,n=n*Le%t}return 0}function mt(e,t){if(!e)return t;if(!t)return e;for(;;){if(e%=t,!e)return t;if(t%=e,!t)return e}}function Xe(e,t){if(Se(e,t),this instanceof Xe)e=mt(U.d,U.n),this.s=U.s,this.n=U.n/e,this.d=U.d/e;else return pe(U.s*U.n,U.d)}const Tr=function(){return new Error("Division by Zero")},at=function(){return new Error("Invalid argument")},Gr=function(){return new Error("Parameters must be integer")};Xe.prototype={s:te,n:W,d:te,abs:function(){return pe(this.n,this.d)},neg:function(){return pe(-this.s*this.n,this.d)},add:function(e,t){return Se(e,t),pe(this.s*this.n*U.d+U.s*this.d*U.n,this.d*U.d)},sub:function(e,t){return Se(e,t),pe(this.s*this.n*U.d-U.s*this.d*U.n,this.d*U.d)},mul:function(e,t){return Se(e,t),pe(this.s*U.s*this.n*U.n,this.d*U.d)},div:function(e,t){return Se(e,t),pe(this.s*U.s*this.n*U.d,this.d*U.n)},clone:function(){return pe(this.s*this.n,this.d)},mod:function(e,t){if(e===void 0)return pe(this.s*this.n%this.d,te);if(Se(e,t),W===U.n*this.d)throw Tr();return pe(this.s*(U.d*this.n)%(U.n*this.d),U.d*this.d)},gcd:function(e,t){return Se(e,t),pe(mt(U.n,this.n)*mt(U.d,this.d),U.d*this.d)},lcm:function(e,t){return Se(e,t),U.n===W&&this.n===W?pe(W,te):pe(U.n*this.n,mt(U.n,this.n)*mt(U.d,this.d))},inverse:function(){return pe(this.s*this.d,this.n)},pow:function(e,t){if(Se(e,t),U.d===te)return U.s<W?pe((this.s*this.d)**U.n,this.n**U.n):pe((this.s*this.n)**U.n,this.d**U.n);if(this.s<W)return null;let r=Ct(this.n),u=Ct(this.d),n=te,i=te;for(let o in r)if(o!=="1"){if(o==="0"){n=W;break}if(r[o]*=U.n,r[o]%U.d===W)r[o]/=U.d;else return null;n*=BigInt(o)**r[o]}for(let o in u)if(o!=="1"){if(u[o]*=U.n,u[o]%U.d===W)u[o]/=U.d;else return null;i*=BigInt(o)**u[o]}return U.s<W?pe(i,n):pe(n,i)},log:function(e,t){if(Se(e,t),this.s<=W||U.s<=W)return null;const r=Object.create(null),u=Ct(U.n),n=Ct(U.d),i=Ct(this.n),o=Ct(this.d);for(const c in n)u[c]=(u[c]||W)-n[c];for(const c in o)i[c]=(i[c]||W)-o[c];for(const c in u)c!=="1"&&(r[c]=!0);for(const c in i)c!=="1"&&(r[c]=!0);let a=null,l=null;for(const c in r){const s=u[c]||W,h=i[c]||W;if(s===W){if(h!==W)return null;continue}let D=h,p=s;const d=mt(D,p);if(D/=d,p/=d,a===null&&l===null)a=D,l=p;else if(D*l!==a*p)return null}return a!==null&&l!==null?pe(a,l):null},equals:function(e,t){return Se(e,t),this.s*this.n*U.d===U.s*U.n*this.d},lt:function(e,t){return Se(e,t),this.s*this.n*U.d<U.s*U.n*this.d},lte:function(e,t){return Se(e,t),this.s*this.n*U.d<=U.s*U.n*this.d},gt:function(e,t){return Se(e,t),this.s*this.n*U.d>U.s*U.n*this.d},gte:function(e,t){return Se(e,t),this.s*this.n*U.d>=U.s*U.n*this.d},compare:function(e,t){Se(e,t);let r=this.s*this.n*U.d-U.s*U.n*this.d;return(W<r)-(r<W)},ceil:function(e){return e=Le**BigInt(e||0),pe(je(this.s*e*this.n/this.d)+(e*this.n%this.d>W&&this.s>=W?te:W),e)},floor:function(e){return e=Le**BigInt(e||0),pe(je(this.s*e*this.n/this.d)-(e*this.n%this.d>W&&this.s<W?te:W),e)},round:function(e){return e=Le**BigInt(e||0),pe(je(this.s*e*this.n/this.d)+this.s*((this.s>=W?te:W)+Te*(e*this.n%this.d)>this.d?te:W),e)},roundTo:function(e,t){Se(e,t);const r=this.n*U.d,u=this.d*U.n,n=r%u;let i=je(r/u);return n+n>=u&&i++,pe(this.s*i*U.n,U.d)},divisible:function(e,t){return Se(e,t),U.n===W?!1:this.n*U.d%(U.n*this.d)===W},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(e=15){let t=this.n,r=this.d,u=Ho(t,r),n=Go(t,r,u),i=this.s<W?"-":"";if(i+=je(t/r),t%=r,t*=Le,t&&(i+="."),u){for(let o=n;o--;)i+=je(t/r),t%=r,t*=Le;i+="(";for(let o=u;o--;)i+=je(t/r),t%=r,t*=Le;i+=")"}else for(let o=e;t&&o--;)i+=je(t/r),t%=r,t*=Le;return i},toFraction:function(e=!1){let t=this.n,r=this.d,u=this.s<W?"-":"";if(r===te)u+=t;else{const n=je(t/r);e&&n>W&&(u+=n,u+=" ",t%=r),u+=t,u+="/",u+=r}return u},toLatex:function(e=!1){let t=this.n,r=this.d,u=this.s<W?"-":"";if(r===te)u+=t;else{const n=je(t/r);e&&n>W&&(u+=n,t%=r),u+="\\frac{",u+=t,u+="}{",u+=r,u+="}"}return u},toContinued:function(){let e=this.n,t=this.d;const r=[];for(;t;){r.push(je(e/t));const u=e%t;e=t,t=u}return r},simplify:function(e=.001){const t=BigInt(Math.ceil(1/e)),r=this.abs(),u=r.toContinued();for(let n=1;n<u.length;n++){let i=pe(u[n-1],te);for(let a=n-2;a>=0;a--)i=i.inverse().add(u[a]);let o=i.sub(r);if(o.n*t<o.d)return i.mul(this.s)}return this}};var Jo="Fraction",Yo=[],Xo=re(Jo,Yo,()=>(Object.defineProperty(Xe,"name",{value:"Fraction"}),Xe.prototype.constructor=Xe,Xe.prototype.type="Fraction",Xe.prototype.isFraction=!0,Xe.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},Xe.fromJSON=function(e){return new Xe(e)},Xe),{isClass:!0}),jo="Matrix",Ko=[],Qo=re(jo,Ko,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,r){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,r,u){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,r,u){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,r){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,r){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,r){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function vr(e,t,r){var u=e.constructor,n=new u(2),i="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!de(r))throw new Error("size must be an integer");if(e.greaterThan(n.pow(r-1).sub(1))||e.lessThan(n.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(n.pow(r))),i="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(i);case 8:return"".concat(e.toOctal()).concat(i);case 16:return"".concat(e.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(t," not supported "))}}function ko(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:u,wordSize:n}=bn(t);switch(r){case"fixed":return ta(e,u);case"exponential":return Jr(e,u);case"engineering":return ea(e,u);case"bin":return vr(e,2,n);case"oct":return vr(e,8,n);case"hex":return vr(e,16,n);case"auto":{var i=Yr(t?.lowerExp,-3),o=Yr(t?.upperExp,5);if(e.isZero())return"0";var a,l=e.toSignificantDigits(u),c=l.e;return c>=i&&c<o?a=l.toFixed():a=Jr(e,u),a.replace(/((\.\d*?)(0+))($|e)/,function(){var s=arguments[2],h=arguments[4];return s!=="."?s+h:h})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function ea(e,t){var r=e.e,u=r%3===0?r:r<0?r-3-r%3:r-r%3,n=e.mul(Math.pow(10,-u)),i=n.toPrecision(t);if(i.includes("e")){var o=e.constructor;i=new o(i).toFixed()}return i+"e"+(r>=0?"+":"")+u.toString()}function Jr(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function ta(e,t){return e.toFixed(t)}function Yr(e,t){return De(e)?e:Ce(e)?e.toNumber():t}function Be(e,t){var r=ra(e,t);return t&&typeof t=="object"&&"truncate"in t&&r.length>t.truncate?r.substring(0,t.truncate-3)+"...":r}function ra(e,t){if(typeof e=="number")return Fr(e,t);if(Ce(e))return ko(e,t);if(na(e))return!t||t.fraction!=="decimal"?"".concat(e.s*e.n,"/").concat(e.d):e.toString();if(Array.isArray(e))return Un(e,t);if(ke(e))return Xr(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var r=Object.keys(e).map(u=>Xr(u)+": "+Be(e[u],t));return"{"+r.join(", ")+"}"}return String(e)}function Xr(e){for(var t=String(e),r="",u=0;u<t.length;){var n=t.charAt(u);r+=n in jr?jr[n]:n,u++}return'"'+r+'"'}var jr={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Un(e,t){if(Array.isArray(e)){for(var r="[",u=e.length,n=0;n<u;n++)n!==0&&(r+=", "),r+=Un(e[n],t);return r+="]",r}else return Be(e,t)}function na(e){return e&&typeof e=="object"&&typeof e.s=="bigint"&&typeof e.n=="bigint"&&typeof e.d=="bigint"||!1}function me(e,t,r){if(!(this instanceof me))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}me.prototype=new RangeError;me.prototype.constructor=RangeError;me.prototype.name="DimensionError";me.prototype.isDimensionError=!0;function xt(e,t,r){if(!(this instanceof xt))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}xt.prototype=new RangeError;xt.prototype.constructor=RangeError;xt.prototype.name="IndexError";xt.prototype.isIndexError=!0;function $e(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function Ln(e,t,r){var u,n=e.length;if(n!==t[r])throw new me(n,t[r]);if(r<t.length-1){var i=r+1;for(u=0;u<n;u++){var o=e[u];if(!Array.isArray(o))throw new me(t.length-1,t.length,"<");Ln(e[u],t,i)}}else for(u=0;u<n;u++)if(Array.isArray(e[u]))throw new me(t.length+1,t.length,">")}function Kr(e,t){var r=t.length===0;if(r){if(Array.isArray(e))throw new me(e.length,0)}else Ln(e,t,0)}function Fe(e,t){if(e!==void 0){if(!De(e)||!de(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new xt(e,t)}}function rr(e,t,r){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(n){if(!De(n)||!de(n)||n<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Be(t)+")")}),(De(e)||Ce(e))&&(e=[e]);var u=r!==void 0?r:0;return yr(e,t,0,u),e}function yr(e,t,r,u){var n,i,o=e.length,a=t[r],l=Math.min(o,a);if(e.length=a,r<t.length-1){var c=r+1;for(n=0;n<l;n++)i=e[n],Array.isArray(i)||(i=[i],e[n]=i),yr(i,t,c,u);for(n=l;n<a;n++)i=[],e[n]=i,yr(i,t,c,u)}else{for(n=0;n<l;n++)for(;Array.isArray(e[n]);)e[n]=e[n][0];for(n=l;n<a;n++)e[n]=u}}function Zn(e,t){var r=ia(e,!0),u=r.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new me(0,u,"!=");t=xr(t,u);var n=Vn(t);if(u!==n)throw new me(n,u,"!=");try{return ua(r,t)}catch(i){throw i instanceof me?new me(n,u,"!="):i}}function xr(e,t){var r=Vn(e),u=e.slice(),n=-1,i=e.indexOf(n),o=e.indexOf(n,i+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var a=i>=0,l=t%r===0;if(a)if(l)u[i]=-t/r;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);return u}function Vn(e){return e.reduce((t,r)=>t*r,1)}function ua(e,t){for(var r=e,u,n=t.length-1;n>0;n--){var i=t[n];u=[];for(var o=r.length/i,a=0;a<o;a++)u.push(r.slice(a*i,(a+1)*i));r=u}return r}function Wn(e,t,r,u){var n=u||$e(e);if(r)for(var i=0;i<r;i++)e=[e],n.unshift(1);for(e=Hn(e,t,0);n.length<t;)n.push(1);return e}function Hn(e,t,r){var u,n;if(Array.isArray(e)){var i=r+1;for(u=0,n=e.length;u<n;u++)e[u]=Hn(e[u],t,i)}else for(var o=r;o<t;o++)e=[e];return e}function ia(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Array.isArray(e))return e;if(typeof t!="boolean")throw new TypeError("Boolean expected for second argument of flatten");var r=[];return t?n(e):u(e),r;function u(i){for(var o=0;o<i.length;o++){var a=i[o];Array.isArray(a)?u(a):r.push(a)}}function n(i){if(Array.isArray(i[0]))for(var o=0;o<i.length;o++)n(i[o]);else for(var a=0;a<i.length;a++)r.push(i[a])}}function Ir(e,t){for(var r,u=0,n=0;n<e.length;n++){var i=e[n],o=Array.isArray(i);if(n===0&&o&&(u=i.length),o&&i.length!==u)return;var a=o?Ir(i,t):t(i);if(r===void 0)r=a;else if(r!==a)return"mixed"}return r}function Gn(e,t,r,u){if(u<r){if(e.length!==t.length)throw new me(e.length,t.length);for(var n=[],i=0;i<e.length;i++)n[i]=Gn(e[i],t[i],r,u+1);return n}else return e.concat(t)}function oa(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(r,u){return Gn(r,u,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function aa(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var u=t.map(D=>D.length),n=Math.max(...u),i=new Array(n).fill(null),o=0;o<t.length;o++)for(var a=t[o],l=u[o],c=0;c<l;c++){var s=n-l+c;a[c]>i[s]&&(i[s]=a[c])}for(var h=0;h<t.length;h++)Jn(t[h],i);return i}function Jn(e,t){for(var r=t.length,u=e.length,n=0;n<u;n++){var i=r-u+n;if(e[n]<t[i]&&e[n]>1||e[n]>t[i])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(u," with size ").concat(e[n]," to size ").concat(t[i]))}}function Qr(e,t){var r=$e(e);if(Nt(r,t))return e;Jn(r,t);var u=aa(r,t),n=u.length,i=[...Array(n-r.length).fill(1),...r],o=fa(e);r.length<n&&(o=Zn(o,i),r=$e(o));for(var a=0;a<n;a++)r[a]<u[a]&&(o=sa(o,u[a],a),r=$e(o));return o}function sa(e,t,r){return oa(...Array(t).fill(e),r)}function Yn(e,t){if(!Array.isArray(e))throw new Error("Array expected");var r=$e(e);if(t.length!==r.length)throw new me(t.length,r.length);for(var u=0;u<t.length;u++)Fe(t[u],r[u]);return t.reduce((n,i)=>n[i],e)}function kr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e.length===0)return[];if(r)return i(e);var u=[];return n(e,0);function n(o,a){if(Array.isArray(o)){for(var l=o.length,c=Array(l),s=0;s<l;s++)u[a]=s,c[s]=n(o[s],a+1);return c}else return t(o,u.slice(0,a),e)}function i(o){if(Array.isArray(o)){for(var a=o.length,l=Array(a),c=0;c<a;c++)l[c]=i(o[c]);return l}else return t(o)}}function fa(e){return Yt([],e)}function nr(e,t,r,u){if(Qt.isTypedFunction(e)){var n;if(u)n=1;else{var i=(t.isMatrix?t.size():$e(t)).map(()=>0),o=t.isMatrix?t.get(i):Yn(t,i);n=ha(e,o,i,t)}var a;if(t.isMatrix&&t.dataType!=="mixed"&&t.dataType!==void 0){var l=ca(e,n);a=l!==void 0?l:e}else a=e;return n>=1&&n<=3?{isUnary:n===1,fn:function(){for(var s=arguments.length,h=new Array(s),D=0;D<s;D++)h[D]=arguments[D];return en(a,h.slice(0,n),r,e.name)}}:{isUnary:!1,fn:function(){for(var s=arguments.length,h=new Array(s),D=0;D<s;D++)h[D]=arguments[D];return en(a,h,r,e.name)}}}return u===void 0?{isUnary:la(e),fn:e}:{isUnary:u,fn:e}}function ca(e,t){var r=[];if(Object.entries(e.signatures).forEach(u=>{var[n,i]=u;n.split(",").length===t&&r.push(i)}),r.length===1)return r[0]}function la(e){if(e.length!==1)return!1;var t=e.toString();if(/arguments/.test(t))return!1;var r=t.match(/\(.*?\)/);return!/\.\.\./.test(r)}function ha(e,t,r,u){for(var n=[t,r,u],i=3;i>0;i--){var o=n.slice(0,i);if(Qt.resolve(e,o)!==null)return i}}function en(e,t,r,u){try{return e(...t)}catch(n){Da(n,t,r,u)}}function Da(e,t,r,u){var n;if(e instanceof TypeError&&((n=e.data)===null||n===void 0?void 0:n.category)==="wrongType"){var i=[];throw i.push("value: ".concat(ct(t[0]))),t.length>=2&&i.push("index: ".concat(ct(t[1]))),t.length>=3&&i.push("array: ".concat(ct(t[2]))),new TypeError("Function ".concat(r," cannot apply callback arguments ")+"".concat(u,"(").concat(i.join(", "),") at index ").concat(JSON.stringify(t[1])))}else throw new TypeError("Function ".concat(r," cannot apply callback arguments ")+"to function ".concat(u,": ").concat(e.message))}var pa="DenseMatrix",da=["Matrix"],ma=re(pa,da,e=>{var{Matrix:t}=e;function r(s,h){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(h&&!ke(h))throw new Error("Invalid datatype: "+h);if(Ae(s))s.type==="DenseMatrix"?(this._data=Ee(s._data),this._size=Ee(s._size),this._datatype=h||s._datatype):(this._data=s.toArray(),this._size=s.size(),this._datatype=h||s._datatype);else if(s&&_e(s.data)&&_e(s.size))this._data=s.data,this._size=s.size,Kr(this._data,this._size),this._datatype=h||s.datatype;else if(_e(s))this._data=c(s),this._size=$e(this._data),Kr(this._data,this._size),this._datatype=h;else{if(s)throw new TypeError("Unsupported type of data ("+ct(s)+")");this._data=[],this._size=[0],this._datatype=h}}r.prototype=new t,r.prototype.createDenseMatrix=function(s,h){return new r(s,h)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return Ir(this._data,ct)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(s,h){return new r(s,h)},r.prototype.subset=function(s,h,D){switch(arguments.length){case 1:return u(this,s);case 2:case 3:return i(this,s,h,D);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(s){return Yn(this._data,s)},r.prototype.set=function(s,h,D){if(!_e(s))throw new TypeError("Array expected");if(s.length<this._size.length)throw new me(s.length,this._size.length,"<");var p,d,f,m=s.map(function(C){return C+1});l(this,m,D);var w=this._data;for(p=0,d=s.length-1;p<d;p++)f=s[p],Fe(f,w.length),w=w[f];return f=s[s.length-1],Fe(f,w.length),w[f]=h,this};function u(s,h){if(!Nr(h))throw new TypeError("Invalid index");var D=h.isScalar();if(D)return s.get(h.min());var p=h.size();if(p.length!==s._size.length)throw new me(p.length,s._size.length);for(var d=h.min(),f=h.max(),m=0,w=s._size.length;m<w;m++)Fe(d[m],s._size[m]),Fe(f[m],s._size[m]);var C=new r([]),E=n(s._data,h);return C._size=E.size,C._datatype=s._datatype,C._data=E.data,C}function n(s,h){var D=h.size().length-1,p=Array(D);return{data:d(s),size:p};function d(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,w=h.dimension(m);return p[m]=w.size()[0],m<D?w.map(C=>(Fe(C,f.length),d(f[C],m+1))).valueOf():w.map(C=>(Fe(C,f.length),f[C])).valueOf()}}function i(s,h,D,p){if(!h||h.isIndex!==!0)throw new TypeError("Invalid index");var d=h.size(),f=h.isScalar(),m;if(Ae(D)?(m=D.size(),D=D.valueOf()):m=$e(D),f){if(m.length!==0)throw new TypeError("Scalar expected");s.set(h.min(),D,p)}else{if(!Nt(m,d))try{m.length===0?D=Qr([D],d):D=Qr(D,d),m=$e(D)}catch{}if(d.length<s._size.length)throw new me(d.length,s._size.length,"<");if(m.length<d.length){for(var w=0,C=0;d[w]===1&&m[w]===1;)w++;for(;d[w]===1;)C++,w++;D=Wn(D,d.length,C,m)}if(!Nt(d,m))throw new me(d,m,">");var E=h.max().map(function(b){return b+1});l(s,E,p),o(s._data,h,D)}return s}function o(s,h,D){var p=h.size().length-1;d(s,D);function d(f,m){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,C=h.dimension(w);w<p?C.forEach((E,b)=>{Fe(E,f.length),d(f[E],m[b[0]],w+1)}):C.forEach((E,b)=>{Fe(E,f.length),f[E]=m[b[0]]})}}r.prototype.resize=function(s,h,D){if(!jt(s))throw new TypeError("Array or Matrix expected");var p=s.valueOf().map(f=>Array.isArray(f)&&f.length===1?f[0]:f),d=D?this.clone():this;return a(d,p,h)};function a(s,h,D){if(h.length===0){for(var p=s._data;_e(p);)p=p[0];return p}return s._size=h.slice(0),s._data=rr(s._data,s._size,D),s}r.prototype.reshape=function(s,h){var D=h?this.clone():this;D._data=Zn(D._data,s);var p=D._size.reduce((d,f)=>d*f);return D._size=xr(s,p),D};function l(s,h,D){for(var p=s._size.slice(0),d=!1;p.length<h.length;)p.push(0),d=!0;for(var f=0,m=h.length;f<m;f++)h[f]>p[f]&&(p[f]=h[f],d=!0);d&&a(s,p,D)}r.prototype.clone=function(){var s=new r({data:Ee(this._data),size:Ee(this._size),datatype:this._datatype});return s},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(s){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,D=this,p=D._size.length-1;if(p<0)return D.clone();var d=nr(s,D,"map",h),f=d.fn,m=D.create(void 0,D._datatype);if(m._size=D._size,h||d.isUnary)return m._data=g(D._data),m;if(p===0){for(var w=D.valueOf(),C=Array(w.length),E=0;E<w.length;E++)C[E]=f(w[E],[E],D);return m._data=C,m}var b=[];return m._data=F(D._data),m;function F(y){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_=Array(y.length);if(B<p)for(var S=0;S<y.length;S++)b[B]=S,_[S]=F(y[S],B+1);else for(var I=0;I<y.length;I++)b[B]=I,_[I]=f(y[I],b.slice(),D);return _}function g(y){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_=Array(y.length);if(B<p)for(var S=0;S<y.length;S++)_[S]=g(y[S],B+1);else for(var I=0;I<y.length;I++)_[I]=f(y[I]);return _}},r.prototype.forEach=function(s){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,D=this,p=D._size.length-1;if(p<0)return;var d=nr(s,D,"map",h),f=d.fn;if(h||d.isUnary){E(D._data);return}if(p===0){for(var m=0;m<D._data.length;m++)f(D._data[m],[m],D);return}var w=[];C(D._data);function C(b){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(F<p)for(var g=0;g<b.length;g++)w[F]=g,C(b[g],F+1);else for(var y=0;y<b.length;y++)w[F]=y,f(b[y],w.slice(),D)}function E(b){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(F<p)for(var g=0;g<b.length;g++)E(b[g],F+1);else for(var y=0;y<b.length;y++)f(b[y])}},r.prototype[Symbol.iterator]=function*(){var s=this._size.length-1;if(!(s<0)){if(s===0){for(var h=0;h<this._data.length;h++)yield{value:this._data[h],index:[h]};return}for(var D=Array(s+1).fill(0),p=this._size.reduce((C,E)=>C*E,1),d=0;d<p;d++){for(var f=this._data,m=0;m<s;m++)f=f[D[m]];yield{value:f[D[s]],index:D.slice()};for(var w=s;w>=0&&(D[w]++,!(D[w]<this._size[w]));w--)D[w]=0}}},r.prototype.rows=function(){var s=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var D=this._data;for(var p of D)s.push(new r([p],this._datatype));return s},r.prototype.columns=function(){var s=this,h=[],D=this.size();if(D.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var p=this._data,d=function(w){var C=p.map(E=>[E[w]]);h.push(new r(C,s._datatype))},f=0;f<D[1];f++)d(f);return h},r.prototype.toArray=function(){return Ee(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(s){return Be(this._data,s)},r.prototype.toString=function(){return Be(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(s){if(s){if(Ce(s)&&(s=s.toNumber()),!De(s)||!de(s))throw new TypeError("The parameter k must be an integer number")}else s=0;for(var h=s>0?s:0,D=s<0?-s:0,p=this._size[0],d=this._size[1],f=Math.min(p-D,d-h),m=[],w=0;w<f;w++)m[w]=this._data[w+D][w+h];return new r({data:m,size:[f],datatype:this._datatype})},r.diagonal=function(s,h,D,p){if(!_e(s))throw new TypeError("Array expected, size parameter");if(s.length!==2)throw new Error("Only two dimensions matrix are supported");if(s=s.map(function(y){if(Ce(y)&&(y=y.toNumber()),!De(y)||!de(y)||y<1)throw new Error("Size values must be positive integers");return y}),D){if(Ce(D)&&(D=D.toNumber()),!De(D)||!de(D))throw new TypeError("The parameter k must be an integer number")}else D=0;var d=D>0?D:0,f=D<0?-D:0,m=s[0],w=s[1],C=Math.min(m-f,w-d),E;if(_e(h)){if(h.length!==C)throw new Error("Invalid value array length");E=function(B){return h[B]}}else if(Ae(h)){var b=h.size();if(b.length!==1||b[0]!==C)throw new Error("Invalid matrix length");E=function(B){return h.get([B])}}else E=function(){return h};p||(p=Ce(E(0))?E(0).mul(0):0);var F=[];if(s.length>0){F=rr(F,s,p);for(var g=0;g<C;g++)F[g+f][g+d]=E(g)}return new r({data:F,size:[m,w]})},r.fromJSON=function(s){return new r(s)},r.prototype.swapRows=function(s,h){if(!De(s)||!de(s)||!De(h)||!de(h))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Fe(s,this._size[0]),Fe(h,this._size[0]),r._swapRows(s,h,this._data),this},r._swapRows=function(s,h,D){var p=D[s];D[s]=D[h],D[h]=p};function c(s){return Ae(s)?c(s.valueOf()):_e(s)?s.map(c):s}return r},{isClass:!0});function ot(e,t,r){if(!r)return Ae(e)?e.map(n=>t(n),!1,!0):kr(e,t,!0);var u=n=>n===0?n:t(n);return Ae(e)?e.map(n=>u(n),!1,!0):kr(e,u,!0)}var Xn="number",fr="number, number";function jn(e){return Math.abs(e)}jn.signature=Xn;function Kn(e,t){return e+t}Kn.signature=fr;function Qn(e,t){return e-t}Qn.signature=fr;function kn(e,t){return e*t}kn.signature=fr;function eu(e){return-e}eu.signature=Xn;function tu(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}tu.signature=fr;function zt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!de(t)||t<0||t>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(Bn(e,t))}function br(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(u<0)throw new Error("Absolute tolerance must be at least 0");return e.isNaN()||t.isNaN()?!1:!e.isFinite()||!t.isFinite()?e.eq(t):e.eq(t)?!0:e.minus(t).abs().lte(e.constructor.max(e.constructor.max(e.abs(),t.abs()).mul(r),u))}var tn="isZero",ga=["typed","equalScalar"],va=re(tn,ga,e=>{var{typed:t,equalScalar:r}=e;return t(tn,{"number | BigNumber | Complex | Fraction":u=>r(u,0),bigint:u=>u===0n,Unit:t.referToSelf(u=>n=>t.find(u,n.valueType())(n.value)),"Array | Matrix":t.referToSelf(u=>n=>ot(n,u))})});function Fa(e,t,r,u){return Mt(e.re,t.re,r,u)&&Mt(e.im,t.im,r,u)}var wa=re("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(r=>(u,n)=>{if(!u.equalBase(n))throw new Error("Cannot compare units with different base");return t.find(r,[u.valueType(),n.valueType()])(u.value,n.value)})}}),ur="equalScalar",Ea=["typed","config"],Aa=re(ur,Ea,e=>{var{typed:t,config:r}=e,u=wa({typed:t});return t(ur,{"boolean, boolean":function(i,o){return i===o},"number, number":function(i,o){return Mt(i,o,r.relTol,r.absTol)},"BigNumber, BigNumber":function(i,o){return i.eq(o)||br(i,o,r.relTol,r.absTol)},"bigint, bigint":function(i,o){return i===o},"Fraction, Fraction":function(i,o){return i.equals(o)},"Complex, Complex":function(i,o){return Fa(i,o,r.relTol,r.absTol)}},u)});re(ur,["typed","config"],e=>{var{typed:t,config:r}=e;return t(ur,{"number, number":function(n,i){return Mt(n,i,r.relTol,r.absTol)}})});var Ca="SparseMatrix",ya=["typed","equalScalar","Matrix"],ba=re(Ca,ya,e=>{var{typed:t,equalScalar:r,Matrix:u}=e;function n(f,m){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!ke(m))throw new Error("Invalid datatype: "+m);if(Ae(f))i(this,f,m);else if(f&&_e(f.index)&&_e(f.ptr)&&_e(f.size))this._values=f.values,this._index=f.index,this._ptr=f.ptr,this._size=f.size,this._datatype=m||f.datatype;else if(_e(f))o(this,f,m);else{if(f)throw new TypeError("Unsupported type of data ("+ct(f)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function i(f,m,w){m.type==="SparseMatrix"?(f._values=m._values?Ee(m._values):void 0,f._index=Ee(m._index),f._ptr=Ee(m._ptr),f._size=Ee(m._size),f._datatype=w||m._datatype):o(f,m.valueOf(),w||m._datatype)}function o(f,m,w){f._values=[],f._index=[],f._ptr=[],f._datatype=w;var C=m.length,E=0,b=r,F=0;if(ke(w)&&(b=t.find(r,[w,w])||r,F=t.convert(0,w)),C>0){var g=0;do{f._ptr.push(f._index.length);for(var y=0;y<C;y++){var B=m[y];if(_e(B)){if(g===0&&E<B.length&&(E=B.length),g<B.length){var _=B[g];b(_,F)||(f._values.push(_),f._index.push(y))}}else g===0&&E<1&&(E=1),b(B,F)||(f._values.push(B),f._index.push(y))}g++}while(g<E)}f._ptr.push(f._index.length),f._size=[C,E]}n.prototype=new u,n.prototype.createSparseMatrix=function(f,m){return new n(f,m)},Object.defineProperty(n,"name",{value:"SparseMatrix"}),n.prototype.constructor=n,n.prototype.type="SparseMatrix",n.prototype.isSparseMatrix=!0,n.prototype.getDataType=function(){return Ir(this._values,ct)},n.prototype.storage=function(){return"sparse"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(f,m){return new n(f,m)},n.prototype.density=function(){var f=this._size[0],m=this._size[1];return f!==0&&m!==0?this._index.length/(f*m):0},n.prototype.subset=function(f,m,w){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return a(this,f);case 2:case 3:return l(this,f,m,w);default:throw new SyntaxError("Wrong number of arguments")}};function a(f,m){if(!Nr(m))throw new TypeError("Invalid index");var w=m.isScalar();if(w)return f.get(m.min());var C=m.size();if(C.length!==f._size.length)throw new me(C.length,f._size.length);var E,b,F,g,y=m.min(),B=m.max();for(E=0,b=f._size.length;E<b;E++)Fe(y[E],f._size[E]),Fe(B[E],f._size[E]);var _=f._values,S=f._index,I=f._ptr,L=m.dimension(0),G=m.dimension(1),J=[],V=[];L.forEach(function(X,ee){V[X]=ee[0],J[X]=!0});var $=_?[]:void 0,K=[],Y=[];return G.forEach(function(X){for(Y.push(K.length),F=I[X],g=I[X+1];F<g;F++)E=S[F],J[E]===!0&&(K.push(V[E]),$&&$.push(_[F]))}),Y.push(K.length),new n({values:$,index:K,ptr:Y,size:C,datatype:f._datatype})}function l(f,m,w,C){if(!m||m.isIndex!==!0)throw new TypeError("Invalid index");var E=m.size(),b=m.isScalar(),F;if(Ae(w)?(F=w.size(),w=w.toArray()):F=$e(w),b){if(F.length!==0)throw new TypeError("Scalar expected");f.set(m.min(),w,C)}else{if(E.length!==1&&E.length!==2)throw new me(E.length,f._size.length,"<");if(F.length<E.length){for(var g=0,y=0;E[g]===1&&F[g]===1;)g++;for(;E[g]===1;)y++,g++;w=Wn(w,E.length,y,F)}if(!Nt(E,F))throw new me(E,F,">");if(E.length===1){var B=m.dimension(0);B.forEach(function(I,L){Fe(I),f.set([I,0],w[L[0]],C)})}else{var _=m.dimension(0),S=m.dimension(1);_.forEach(function(I,L){Fe(I),S.forEach(function(G,J){Fe(G),f.set([I,G],w[L[0]][J[0]],C)})})}}return f}n.prototype.get=function(f){if(!_e(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new me(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=f[0],w=f[1];Fe(m,this._size[0]),Fe(w,this._size[1]);var C=c(m,this._ptr[w],this._ptr[w+1],this._index);return C<this._ptr[w+1]&&this._index[C]===m?this._values[C]:0},n.prototype.set=function(f,m,w){if(!_e(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new me(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var C=f[0],E=f[1],b=this._size[0],F=this._size[1],g=r,y=0;ke(this._datatype)&&(g=t.find(r,[this._datatype,this._datatype])||r,y=t.convert(0,this._datatype)),(C>b-1||E>F-1)&&(D(this,Math.max(C+1,b),Math.max(E+1,F),w),b=this._size[0],F=this._size[1]),Fe(C,b),Fe(E,F);var B=c(C,this._ptr[E],this._ptr[E+1],this._index);return B<this._ptr[E+1]&&this._index[B]===C?g(m,y)?s(B,E,this._values,this._index,this._ptr):this._values[B]=m:g(m,y)||h(B,C,E,m,this._values,this._index,this._ptr),this};function c(f,m,w,C){if(w-m===0)return w;for(var E=m;E<w;E++)if(C[E]===f)return E;return m}function s(f,m,w,C,E){w.splice(f,1),C.splice(f,1);for(var b=m+1;b<E.length;b++)E[b]--}function h(f,m,w,C,E,b,F){E.splice(f,0,C),b.splice(f,0,m);for(var g=w+1;g<F.length;g++)F[g]++}n.prototype.resize=function(f,m,w){if(!jt(f))throw new TypeError("Array or Matrix expected");var C=f.valueOf().map(b=>Array.isArray(b)&&b.length===1?b[0]:b);if(C.length!==2)throw new Error("Only two dimensions matrix are supported");C.forEach(function(b){if(!De(b)||!de(b)||b<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Be(C)+")")});var E=w?this.clone():this;return D(E,C[0],C[1],m)};function D(f,m,w,C){var E=C||0,b=r,F=0;ke(f._datatype)&&(b=t.find(r,[f._datatype,f._datatype])||r,F=t.convert(0,f._datatype),E=t.convert(E,f._datatype));var g=!b(E,F),y=f._size[0],B=f._size[1],_,S,I;if(w>B){for(S=B;S<w;S++)if(f._ptr[S]=f._values.length,g)for(_=0;_<y;_++)f._values.push(E),f._index.push(_);f._ptr[w]=f._values.length}else w<B&&(f._ptr.splice(w+1,B-w),f._values.splice(f._ptr[w],f._values.length),f._index.splice(f._ptr[w],f._index.length));if(B=w,m>y){if(g){var L=0;for(S=0;S<B;S++){f._ptr[S]=f._ptr[S]+L,I=f._ptr[S+1]+L;var G=0;for(_=y;_<m;_++,G++)f._values.splice(I+G,0,E),f._index.splice(I+G,0,_),L++}f._ptr[B]=f._values.length}}else if(m<y){var J=0;for(S=0;S<B;S++){f._ptr[S]=f._ptr[S]-J;var V=f._ptr[S],$=f._ptr[S+1]-J;for(I=V;I<$;I++)_=f._index[I],_>m-1&&(f._values.splice(I,1),f._index.splice(I,1),J++)}f._ptr[S]=f._values.length}return f._size[0]=m,f._size[1]=w,f}n.prototype.reshape=function(f,m){if(!_e(f))throw new TypeError("Array expected");if(f.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");f.forEach(function(X){if(!De(X)||!de(X)||X<=-2||X===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Be(f)+")")});var w=this._size[0]*this._size[1];f=xr(f,w);var C=f[0]*f[1];if(w!==C)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var E=m?this.clone():this;if(this._size[0]===f[0]&&this._size[1]===f[1])return E;for(var b=[],F=0;F<E._ptr.length;F++)for(var g=0;g<E._ptr[F+1]-E._ptr[F];g++)b.push(F);for(var y=E._values.slice(),B=E._index.slice(),_=0;_<E._index.length;_++){var S=B[_],I=b[_],L=S*E._size[1]+I;b[_]=L%f[1],B[_]=Math.floor(L/f[1])}E._values.length=0,E._index.length=0,E._ptr.length=f[1]+1,E._size=f.slice();for(var G=0;G<E._ptr.length;G++)E._ptr[G]=0;for(var J=0;J<y.length;J++){var V=B[J],$=b[J],K=y[J],Y=c(V,E._ptr[$],E._ptr[$+1],E._index);h(Y,V,$,K,E._values,E._index,E._ptr)}return E},n.prototype.clone=function(){var f=new n({values:this._values?Ee(this._values):void 0,index:Ee(this._index),ptr:Ee(this._ptr),size:Ee(this._size),datatype:this._datatype});return f},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(f,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var w=this,C=this._size[0],E=this._size[1],b=nr(f,w,"map"),F=function(y,B,_){return b.fn(y,[B,_],w)};return p(this,0,C-1,0,E-1,F,m)};function p(f,m,w,C,E,b,F){var g=[],y=[],B=[],_=r,S=0;ke(f._datatype)&&(_=t.find(r,[f._datatype,f._datatype])||r,S=t.convert(0,f._datatype));for(var I=function(se,ye,we){var ve=b(se,ye,we);_(ve,S)||(g.push(ve),y.push(ye))},L=C;L<=E;L++){B.push(g.length);var G=f._ptr[L],J=f._ptr[L+1];if(F)for(var V=G;V<J;V++){var $=f._index[V];$>=m&&$<=w&&I(f._values[V],$-m,L-C)}else{for(var K={},Y=G;Y<J;Y++){var X=f._index[Y];K[X]=f._values[Y]}for(var ee=m;ee<=w;ee++){var oe=ee in K?K[ee]:0;I(oe,ee-m,L-C)}}}return B.push(g.length),new n({values:g,index:y,ptr:B,size:[w-m+1,E-C+1]})}n.prototype.forEach=function(f,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var w=this,C=this._size[0],E=this._size[1],b=nr(f,w,"forEach"),F=0;F<E;F++){var g=this._ptr[F],y=this._ptr[F+1];if(m)for(var B=g;B<y;B++){var _=this._index[B];b.fn(this._values[B],[_,F],w)}else{for(var S={},I=g;I<y;I++){var L=this._index[I];S[L]=this._values[I]}for(var G=0;G<C;G++){var J=G in S?S[G]:0;b.fn(J,[G,F],w)}}}},n.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var f=this._size[1],m=0;m<f;m++)for(var w=this._ptr[m],C=this._ptr[m+1],E=w;E<C;E++){var b=this._index[E];yield{value:this._values[E],index:[b,m]}}},n.prototype.toArray=function(){return d(this._values,this._index,this._ptr,this._size,!0)},n.prototype.valueOf=function(){return d(this._values,this._index,this._ptr,this._size,!1)};function d(f,m,w,C,E){var b=C[0],F=C[1],g=[],y,B;for(y=0;y<b;y++)for(g[y]=[],B=0;B<F;B++)g[y][B]=0;for(B=0;B<F;B++)for(var _=w[B],S=w[B+1],I=_;I<S;I++)y=m[I],g[y][B]=f?E?Ee(f[I]):f[I]:1;return g}return n.prototype.format=function(f){for(var m=this._size[0],w=this._size[1],C=this.density(),E="Sparse Matrix ["+Be(m,f)+" x "+Be(w,f)+"] density: "+Be(C,f)+`
`,b=0;b<w;b++)for(var F=this._ptr[b],g=this._ptr[b+1],y=F;y<g;y++){var B=this._index[y];E+=`
    (`+Be(B,f)+", "+Be(b,f)+") ==> "+(this._values?Be(this._values[y],f):"X")}return E},n.prototype.toString=function(){return Be(this.toArray())},n.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(f){if(f){if(Ce(f)&&(f=f.toNumber()),!De(f)||!de(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var m=f>0?f:0,w=f<0?-f:0,C=this._size[0],E=this._size[1],b=Math.min(C-w,E-m),F=[],g=[],y=[];y[0]=0;for(var B=m;B<E&&F.length<b;B++)for(var _=this._ptr[B],S=this._ptr[B+1],I=_;I<S;I++){var L=this._index[I];if(L===B-m+w){F.push(this._values[I]),g[F.length-1]=L-w;break}}return y.push(F.length),new n({values:F,index:g,ptr:y,size:[b,1]})},n.fromJSON=function(f){return new n(f)},n.diagonal=function(f,m,w,C,E){if(!_e(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(X){if(Ce(X)&&(X=X.toNumber()),!De(X)||!de(X)||X<1)throw new Error("Size values must be positive integers");return X}),w){if(Ce(w)&&(w=w.toNumber()),!De(w)||!de(w))throw new TypeError("The parameter k must be an integer number")}else w=0;var b=r,F=0;ke(E)&&(b=t.find(r,[E,E])||r,F=t.convert(0,E));var g=w>0?w:0,y=w<0?-w:0,B=f[0],_=f[1],S=Math.min(B-y,_-g),I;if(_e(m)){if(m.length!==S)throw new Error("Invalid value array length");I=function(ee){return m[ee]}}else if(Ae(m)){var L=m.size();if(L.length!==1||L[0]!==S)throw new Error("Invalid matrix length");I=function(ee){return m.get([ee])}}else I=function(){return m};for(var G=[],J=[],V=[],$=0;$<_;$++){V.push(G.length);var K=$-g;if(K>=0&&K<S){var Y=I(K);b(Y,F)||(J.push(K+y),G.push(Y))}}return V.push(G.length),new n({values:G,index:J,ptr:V,size:[B,_]})},n.prototype.swapRows=function(f,m){if(!De(f)||!de(f)||!De(m)||!de(m))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Fe(f,this._size[0]),Fe(m,this._size[0]),n._swapRows(f,m,this._size[1],this._values,this._index,this._ptr),this},n._forEachRow=function(f,m,w,C,E){for(var b=C[f],F=C[f+1],g=b;g<F;g++)E(w[g],m[g])},n._swapRows=function(f,m,w,C,E,b){for(var F=0;F<w;F++){var g=b[F],y=b[F+1],B=c(f,g,y,E),_=c(m,g,y,E);if(B<y&&_<y&&E[B]===f&&E[_]===m){if(C){var S=C[B];C[B]=C[_],C[_]=S}continue}if(B<y&&E[B]===f&&(_>=y||E[_]!==m)){var I=C?C[B]:void 0;E.splice(_,0,m),C&&C.splice(_,0,I),E.splice(_<=B?B+1:B,1),C&&C.splice(_<=B?B+1:B,1);continue}if(_<y&&E[_]===m&&(B>=y||E[B]!==f)){var L=C?C[_]:void 0;E.splice(B,0,f),C&&C.splice(B,0,L),E.splice(B<=_?_+1:_,1),C&&C.splice(B<=_?_+1:_,1)}}},n},{isClass:!0}),Ba="number",_a=["typed"];function Na(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(t){var r={"0b":2,"0o":8,"0x":16}[t[1]],u=t[2],n=t[3];return{input:e,radix:r,integerPart:u,fractionalPart:n}}else return null}function Ma(e){for(var t=parseInt(e.integerPart,e.radix),r=0,u=0;u<e.fractionalPart.length;u++){var n=parseInt(e.fractionalPart[u],e.radix);r+=n/Math.pow(e.radix,u+1)}var i=t+r;if(isNaN(i))throw new SyntaxError('String "'+e.input+'" is not a valid number');return i}var Sa=re(Ba,_a,e=>{var{typed:t}=e,r=t("number",{"":function(){return 0},number:function(n){return n},string:function(n){if(n==="NaN")return NaN;var i=Na(n);if(i)return Ma(i);var o=0,a=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);a&&(o=Number(a[2]),n=a[1]);var l=Number(n);if(isNaN(l))throw new SyntaxError('String "'+n+'" is not a valid number');if(a){if(l>2**o-1)throw new SyntaxError('String "'.concat(n,'" is out of range'));l>=2**(o-1)&&(l=l-2**o)}return l},BigNumber:function(n){return n.toNumber()},bigint:function(n){return Number(n)},Fraction:function(n){return n.valueOf()},Unit:t.referToSelf(u=>n=>{var i=n.clone();return i.value=u(n.value),i}),null:function(n){return 0},"Unit, string | Unit":function(n,i){return n.toNumber(i)},"Array | Matrix":t.referToSelf(u=>n=>ot(n,u))});return r.fromJSON=function(u){return parseFloat(u.value)},r}),Ta="bignumber",xa=["typed","BigNumber"],Ia=re(Ta,xa,e=>{var{typed:t,BigNumber:r}=e;return t("bignumber",{"":function(){return new r(0)},number:function(n){return new r(n+"")},string:function(n){var i=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(i){var o=i[2],a=r(i[1]),l=new r(2).pow(Number(o));if(a.gt(l.sub(1)))throw new SyntaxError('String "'.concat(n,'" is out of range'));var c=new r(2).pow(Number(o)-1);return a.gte(c)?a.sub(l):a}return new r(n)},BigNumber:function(n){return n},bigint:function(n){return new r(n.toString())},Unit:t.referToSelf(u=>n=>{var i=n.clone();return i.value=u(n.value),i}),Fraction:function(n){return new r(String(n.n)).div(String(n.d)).times(String(n.s))},null:function(n){return new r(0)},"Array | Matrix":t.referToSelf(u=>n=>ot(n,u))})}),Oa="fraction",za=["typed","Fraction"],Pa=re(Oa,za,e=>{var{typed:t,Fraction:r}=e;return t("fraction",{number:function(n){if(!isFinite(n)||isNaN(n))throw new Error(n+" cannot be represented as a fraction");return new r(n)},string:function(n){return new r(n)},"number, number":function(n,i){return new r(n,i)},"bigint, bigint":function(n,i){return new r(n,i)},null:function(n){return new r(0)},BigNumber:function(n){return new r(n.toString())},bigint:function(n){return new r(n.toString())},Fraction:function(n){return n},Unit:t.referToSelf(u=>n=>{var i=n.clone();return i.value=u(n.value),i}),Object:function(n){return new r(n)},"Array | Matrix":t.referToSelf(u=>n=>ot(n,u))})}),rn="matrix",Ra=["typed","Matrix","DenseMatrix","SparseMatrix"],$a=re(rn,Ra,e=>{var{typed:t,Matrix:r,DenseMatrix:u,SparseMatrix:n}=e;return t(rn,{"":function(){return i([])},string:function(a){return i([],a)},"string, string":function(a,l){return i([],a,l)},Array:function(a){return i(a)},Matrix:function(a){return i(a,a.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});function i(o,a,l){if(a==="dense"||a==="default"||a===void 0)return new u(o,l);if(a==="sparse")return new n(o,l);throw new TypeError("Unknown matrix type "+JSON.stringify(a)+".")}}),nn="unaryMinus",qa=["typed"],Ua=re(nn,qa,e=>{var{typed:t}=e;return t(nn,{number:eu,"Complex | BigNumber | Fraction":r=>r.neg(),bigint:r=>-r,Unit:t.referToSelf(r=>u=>{var n=u.clone();return n.value=t.find(r,n.valueType())(u.value),n}),"Array | Matrix":t.referToSelf(r=>u=>ot(u,r,!0))})}),un="abs",La=["typed"],Za=re(un,La,e=>{var{typed:t}=e;return t(un,{number:jn,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),bigint:r=>r<0n?-r:r,"Array | Matrix":t.referToSelf(r=>u=>ot(u,r,!0))})}),on="addScalar",Va=["typed"],Wa=re(on,Va,e=>{var{typed:t}=e;return t(on,{"number, number":Kn,"Complex, Complex":function(u,n){return u.add(n)},"BigNumber, BigNumber":function(u,n){return u.plus(n)},"bigint, bigint":function(u,n){return u+n},"Fraction, Fraction":function(u,n){return u.add(n)},"Unit, Unit":t.referToSelf(r=>(u,n)=>{if(u.value===null||u.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!u.equalBase(n))throw new Error("Units do not match");var i=u.clone();return i.value=t.find(r,[i.valueType(),n.valueType()])(i.value,n.value),i.fixPrefix=!1,i})})}),an="subtractScalar",Ha=["typed"],Ga=re(an,Ha,e=>{var{typed:t}=e;return t(an,{"number, number":Qn,"Complex, Complex":function(u,n){return u.sub(n)},"BigNumber, BigNumber":function(u,n){return u.minus(n)},"bigint, bigint":function(u,n){return u-n},"Fraction, Fraction":function(u,n){return u.sub(n)},"Unit, Unit":t.referToSelf(r=>(u,n)=>{if(u.value===null||u.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!u.equalBase(n))throw new Error("Units do not match");var i=u.clone();return i.value=t.find(r,[i.valueType(),n.valueType()])(i.value,n.value),i.fixPrefix=!1,i})})}),Ja="matAlgo11xS0s",Ya=["typed","equalScalar"],ru=re(Ja,Ya,e=>{var{typed:t,equalScalar:r}=e;return function(n,i,o,a){var l=n._values,c=n._index,s=n._ptr,h=n._size,D=n._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=h[0],d=h[1],f,m=r,w=0,C=o;typeof D=="string"&&(f=D,m=t.find(r,[f,f]),w=t.convert(0,f),i=t.convert(i,f),C=t.find(o,[f,f]));for(var E=[],b=[],F=[],g=0;g<d;g++){F[g]=b.length;for(var y=s[g],B=s[g+1],_=y;_<B;_++){var S=c[_],I=a?C(i,l[_]):C(l[_],i);m(I,w)||(b.push(S),E.push(I))}}return F[d]=b.length,n.createSparseMatrix({values:E,index:b,ptr:F,size:[p,d],datatype:f})}}),Xa="matAlgo12xSfs",ja=["typed","DenseMatrix"],Ka=re(Xa,ja,e=>{var{typed:t,DenseMatrix:r}=e;return function(n,i,o,a){var l=n._values,c=n._index,s=n._ptr,h=n._size,D=n._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=h[0],d=h[1],f,m=o;typeof D=="string"&&(f=D,i=t.convert(i,f),m=t.find(o,[f,f]));for(var w=[],C=[],E=[],b=0;b<d;b++){for(var F=b+1,g=s[b],y=s[b+1],B=g;B<y;B++){var _=c[B];C[_]=l[B],E[_]=F}for(var S=0;S<p;S++)b===0&&(w[S]=[]),E[S]===F?w[S][b]=a?m(i,C[S]):m(C[S],i):w[S][b]=a?m(i,0):m(0,i)}return new r({data:w,size:[p,d],datatype:f})}}),Qa="matAlgo14xDs",ka=["typed"],nu=re(Qa,ka,e=>{var{typed:t}=e;return function(n,i,o,a){var l=n._data,c=n._size,s=n._datatype,h,D=o;typeof s=="string"&&(h=s,i=t.convert(i,h),D=t.find(o,[h,h]));var p=c.length>0?r(D,0,c,c[0],l,i,a):[];return n.createDenseMatrix({data:p,size:Ee(c),datatype:h})};function r(u,n,i,o,a,l,c){var s=[];if(n===i.length-1)for(var h=0;h<o;h++)s[h]=c?u(l,a[h]):u(a[h],l);else for(var D=0;D<o;D++)s[D]=r(u,n+1,i,i[n+1],a[D],l,c);return s}}),es="multiplyScalar",ts=["typed"],rs=re(es,ts,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":kn,"Complex, Complex":function(u,n){return u.mul(n)},"BigNumber, BigNumber":function(u,n){return u.times(n)},"bigint, bigint":function(u,n){return u*n},"Fraction, Fraction":function(u,n){return u.mul(n)},"number | Fraction | BigNumber | Complex, Unit":(r,u)=>u.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,u)=>r.multiply(u)})}),sn="multiply",ns=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],us=re(sn,ns,e=>{var{typed:t,matrix:r,addScalar:u,multiplyScalar:n,equalScalar:i,dot:o}=e,a=ru({typed:t,equalScalar:i}),l=nu({typed:t});function c(F,g){switch(F.length){case 1:switch(g.length){case 1:if(F[0]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(F[0]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+F[0]+") must match Matrix rows ("+g[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+g.length+" dimensions)")}break;case 2:switch(g.length){case 1:if(F[1]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+F[1]+") must match Vector length ("+g[0]+")");break;case 2:if(F[1]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+F[1]+") must match Matrix B rows ("+g[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+g.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+F.length+" dimensions)")}}function s(F,g,y){if(y===0)throw new Error("Cannot multiply two empty vectors");return o(F,g)}function h(F,g){if(g.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return D(F,g)}function D(F,g){var y=F._data,B=F._size,_=F._datatype||F.getDataType(),S=g._data,I=g._size,L=g._datatype||g.getDataType(),G=B[0],J=I[1],V,$=u,K=n;_&&L&&_===L&&typeof _=="string"&&_!=="mixed"&&(V=_,$=t.find(u,[V,V]),K=t.find(n,[V,V]));for(var Y=[],X=0;X<J;X++){for(var ee=K(y[0],S[0][X]),oe=1;oe<G;oe++)ee=$(ee,K(y[oe],S[oe][X]));Y[X]=ee}return F.createDenseMatrix({data:Y,size:[J],datatype:_===F._datatype&&L===g._datatype?V:void 0})}var p=t("_multiplyMatrixVector",{"DenseMatrix, any":f,"SparseMatrix, any":C}),d=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":m,"DenseMatrix, SparseMatrix":w,"SparseMatrix, DenseMatrix":E,"SparseMatrix, SparseMatrix":b});function f(F,g){var y=F._data,B=F._size,_=F._datatype||F.getDataType(),S=g._data,I=g._datatype||g.getDataType(),L=B[0],G=B[1],J,V=u,$=n;_&&I&&_===I&&typeof _=="string"&&_!=="mixed"&&(J=_,V=t.find(u,[J,J]),$=t.find(n,[J,J]));for(var K=[],Y=0;Y<L;Y++){for(var X=y[Y],ee=$(X[0],S[0]),oe=1;oe<G;oe++)ee=V(ee,$(X[oe],S[oe]));K[Y]=ee}return F.createDenseMatrix({data:K,size:[L],datatype:_===F._datatype&&I===g._datatype?J:void 0})}function m(F,g){var y=F._data,B=F._size,_=F._datatype||F.getDataType(),S=g._data,I=g._size,L=g._datatype||g.getDataType(),G=B[0],J=B[1],V=I[1],$,K=u,Y=n;_&&L&&_===L&&typeof _=="string"&&_!=="mixed"&&_!=="mixed"&&($=_,K=t.find(u,[$,$]),Y=t.find(n,[$,$]));for(var X=[],ee=0;ee<G;ee++){var oe=y[ee];X[ee]=[];for(var ue=0;ue<V;ue++){for(var se=Y(oe[0],S[0][ue]),ye=1;ye<J;ye++)se=K(se,Y(oe[ye],S[ye][ue]));X[ee][ue]=se}}return F.createDenseMatrix({data:X,size:[G,V],datatype:_===F._datatype&&L===g._datatype?$:void 0})}function w(F,g){var y=F._data,B=F._size,_=F._datatype||F.getDataType(),S=g._values,I=g._index,L=g._ptr,G=g._size,J=g._datatype||g._data===void 0?g._datatype:g.getDataType();if(!S)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var V=B[0],$=G[1],K,Y=u,X=n,ee=i,oe=0;_&&J&&_===J&&typeof _=="string"&&_!=="mixed"&&(K=_,Y=t.find(u,[K,K]),X=t.find(n,[K,K]),ee=t.find(i,[K,K]),oe=t.convert(0,K));for(var ue=[],se=[],ye=[],we=g.createSparseMatrix({values:ue,index:se,ptr:ye,size:[V,$],datatype:_===F._datatype&&J===g._datatype?K:void 0}),ve=0;ve<$;ve++){ye[ve]=se.length;var he=L[ve],Re=L[ve+1];if(Re>he)for(var fe=0,ae=0;ae<V;ae++){for(var Ve=ae+1,xe=void 0,ce=he;ce<Re;ce++){var Me=I[ce];fe!==Ve?(xe=X(y[ae][Me],S[ce]),fe=Ve):xe=Y(xe,X(y[ae][Me],S[ce]))}fe===Ve&&!ee(xe,oe)&&(se.push(ae),ue.push(xe))}}return ye[$]=se.length,we}function C(F,g){var y=F._values,B=F._index,_=F._ptr,S=F._datatype||F._data===void 0?F._datatype:F.getDataType();if(!y)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var I=g._data,L=g._datatype||g.getDataType(),G=F._size[0],J=g._size[0],V=[],$=[],K=[],Y,X=u,ee=n,oe=i,ue=0;S&&L&&S===L&&typeof S=="string"&&S!=="mixed"&&(Y=S,X=t.find(u,[Y,Y]),ee=t.find(n,[Y,Y]),oe=t.find(i,[Y,Y]),ue=t.convert(0,Y));var se=[],ye=[];K[0]=0;for(var we=0;we<J;we++){var ve=I[we];if(!oe(ve,ue))for(var he=_[we],Re=_[we+1],fe=he;fe<Re;fe++){var ae=B[fe];ye[ae]?se[ae]=X(se[ae],ee(ve,y[fe])):(ye[ae]=!0,$.push(ae),se[ae]=ee(ve,y[fe]))}}for(var Ve=$.length,xe=0;xe<Ve;xe++){var ce=$[xe];V[xe]=se[ce]}return K[1]=$.length,F.createSparseMatrix({values:V,index:$,ptr:K,size:[G,1],datatype:S===F._datatype&&L===g._datatype?Y:void 0})}function E(F,g){var y=F._values,B=F._index,_=F._ptr,S=F._datatype||F._data===void 0?F._datatype:F.getDataType();if(!y)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var I=g._data,L=g._datatype||g.getDataType(),G=F._size[0],J=g._size[0],V=g._size[1],$,K=u,Y=n,X=i,ee=0;S&&L&&S===L&&typeof S=="string"&&S!=="mixed"&&($=S,K=t.find(u,[$,$]),Y=t.find(n,[$,$]),X=t.find(i,[$,$]),ee=t.convert(0,$));for(var oe=[],ue=[],se=[],ye=F.createSparseMatrix({values:oe,index:ue,ptr:se,size:[G,V],datatype:S===F._datatype&&L===g._datatype?$:void 0}),we=[],ve=[],he=0;he<V;he++){se[he]=ue.length;for(var Re=he+1,fe=0;fe<J;fe++){var ae=I[fe][he];if(!X(ae,ee))for(var Ve=_[fe],xe=_[fe+1],ce=Ve;ce<xe;ce++){var Me=B[ce];ve[Me]!==Re?(ve[Me]=Re,ue.push(Me),we[Me]=Y(ae,y[ce])):we[Me]=K(we[Me],Y(ae,y[ce]))}}for(var We=se[he],rt=ue.length,nt=We;nt<rt;nt++){var gt=ue[nt];oe[nt]=we[gt]}}return se[V]=ue.length,ye}function b(F,g){var y=F._values,B=F._index,_=F._ptr,S=F._datatype||F._data===void 0?F._datatype:F.getDataType(),I=g._values,L=g._index,G=g._ptr,J=g._datatype||g._data===void 0?g._datatype:g.getDataType(),V=F._size[0],$=g._size[1],K=y&&I,Y,X=u,ee=n;S&&J&&S===J&&typeof S=="string"&&S!=="mixed"&&(Y=S,X=t.find(u,[Y,Y]),ee=t.find(n,[Y,Y]));for(var oe=K?[]:void 0,ue=[],se=[],ye=F.createSparseMatrix({values:oe,index:ue,ptr:se,size:[V,$],datatype:S===F._datatype&&J===g._datatype?Y:void 0}),we=K?[]:void 0,ve=[],he,Re,fe,ae,Ve,xe,ce,Me,We=0;We<$;We++){se[We]=ue.length;var rt=We+1;for(Ve=G[We],xe=G[We+1],ae=Ve;ae<xe;ae++)if(Me=L[ae],K)for(Re=_[Me],fe=_[Me+1],he=Re;he<fe;he++)ce=B[he],ve[ce]!==rt?(ve[ce]=rt,ue.push(ce),we[ce]=ee(I[ae],y[he])):we[ce]=X(we[ce],ee(I[ae],y[he]));else for(Re=_[Me],fe=_[Me+1],he=Re;he<fe;he++)ce=B[he],ve[ce]!==rt&&(ve[ce]=rt,ue.push(ce));if(K)for(var nt=se[We],gt=ue.length,vt=nt;vt<gt;vt++){var hr=ue[vt];oe[vt]=we[hr]}}return se[$]=ue.length,ye}return t(sn,n,{"Array, Array":t.referTo("Matrix, Matrix",F=>(g,y)=>{c($e(g),$e(y));var B=F(r(g),r(y));return Ae(B)?B.valueOf():B}),"Matrix, Matrix":function(g,y){var B=g.size(),_=y.size();return c(B,_),B.length===1?_.length===1?s(g,y,B[0]):h(g,y):_.length===1?p(g,y):d(g,y)},"Matrix, Array":t.referTo("Matrix,Matrix",F=>(g,y)=>F(g,r(y))),"Array, Matrix":t.referToSelf(F=>(g,y)=>F(r(g,y.storage()),y)),"SparseMatrix, any":function(g,y){return a(g,y,n,!1)},"DenseMatrix, any":function(g,y){return l(g,y,n,!1)},"any, SparseMatrix":function(g,y){return a(y,g,n,!0)},"any, DenseMatrix":function(g,y){return l(y,g,n,!0)},"Array, any":function(g,y){return l(r(g),y,n,!1).valueOf()},"any, Array":function(g,y){return l(r(y),g,n,!0).valueOf()},"any, any":n,"any, any, ...any":t.referToSelf(F=>(g,y,B)=>{for(var _=F(g,y),S=0;S<B.length;S++)_=F(_,B[S]);return _})})}),fn="conj",is=["typed"],os=re(fn,is,e=>{var{typed:t}=e;return t(fn,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),Unit:t.referToSelf(r=>u=>new u.constructor(r(u.toNumeric()),u.formatUnits())),"Array | Matrix":t.referToSelf(r=>u=>ot(u,r))})}),cn="identity",as=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],ss=re(cn,as,e=>{var{typed:t,config:r,matrix:u,BigNumber:n,DenseMatrix:i,SparseMatrix:o}=e;return t(cn,{"":function(){return r.matrix==="Matrix"?u([]):[]},string:function(s){return u(s)},"number | BigNumber":function(s){return l(s,s,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(s,h){return l(s,s,h)},"number | BigNumber, number | BigNumber":function(s,h){return l(s,h,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(s,h,D){return l(s,h,D)},Array:function(s){return a(s)},"Array, string":function(s,h){return a(s,h)},Matrix:function(s){return a(s.valueOf(),s.storage())},"Matrix, string":function(s,h){return a(s.valueOf(),h)}});function a(c,s){switch(c.length){case 0:return s?u(s):[];case 1:return l(c[0],c[0],s);case 2:return l(c[0],c[1],s);default:throw new Error("Vector containing two values expected")}}function l(c,s,h){var D=Ce(c)||Ce(s)?n:null;if(Ce(c)&&(c=c.toNumber()),Ce(s)&&(s=s.toNumber()),!de(c)||c<1)throw new Error("Parameters in function identity must be positive integers");if(!de(s)||s<1)throw new Error("Parameters in function identity must be positive integers");var p=D?new n(1):1,d=D?new D(0):0,f=[c,s];if(h){if(h==="sparse")return o.diagonal(f,p,0,d);if(h==="dense")return i.diagonal(f,p,0,d);throw new TypeError('Unknown matrix type "'.concat(h,'"'))}for(var m=rr([],f,d),w=c<s?c:s,C=0;C<w;C++)m[C][C]=p;return m}});function fs(){throw new Error('No "bignumber" implementation available')}function cs(){throw new Error('No "fraction" implementation available')}function ls(){throw new Error('No "matrix" implementation available')}var ln="size",hs=["typed","config","?matrix"],Ds=re(ln,hs,e=>{var{typed:t,config:r,matrix:u}=e;return t(ln,{Matrix:function(i){return i.create(i.size(),"number")},Array:$e,string:function(i){return r.matrix==="Array"?[i.length]:u([i.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(i){return r.matrix==="Array"?[]:u?u([],"dense","number"):ls()}})}),hn="zeros",ps=["typed","config","matrix","BigNumber"],ds=re(hn,ps,e=>{var{typed:t,config:r,matrix:u,BigNumber:n}=e;return t(hn,{"":function(){return r.matrix==="Array"?i([]):i([],"default")},"...number | BigNumber | string":function(c){var s=c[c.length-1];if(typeof s=="string"){var h=c.pop();return i(c,h)}else return r.matrix==="Array"?i(c):i(c,"default")},Array:i,Matrix:function(c){var s=c.storage();return i(c.valueOf(),s)},"Array | Matrix, string":function(c,s){return i(c.valueOf(),s)}});function i(l,c){var s=o(l),h=s?new n(0):0;if(a(l),c){var D=u(c);return l.length>0?D.resize(l,h):D}else{var p=[];return l.length>0?rr(p,l,h):p}}function o(l){var c=!1;return l.forEach(function(s,h,D){Ce(s)&&(c=!0,D[h]=s.toNumber())}),c}function a(l){l.forEach(function(c){if(typeof c!="number"||!de(c)||c<0)throw new Error("Parameters in function zeros must be positive integers")})}}),ms="numeric",gs=["number","?bignumber","?fraction"],vs=re(ms,gs,e=>{var{number:t,bignumber:r,fraction:u}=e,n={string:!0,number:!0,BigNumber:!0,Fraction:!0},i={number:o=>t(o),BigNumber:r?o=>r(o):fs,bigint:o=>BigInt(o),Fraction:u?o=>u(o):cs};return function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",c=arguments.length>2?arguments[2]:void 0;if(c!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var s=ct(a);if(!(s in n))throw new TypeError("Cannot convert "+a+' of type "'+s+'"; valid input types are '+Object.keys(n).join(", "));if(!(l in i))throw new TypeError("Cannot convert "+a+' to type "'+l+'"; valid output types are '+Object.keys(i).join(", "));return l===s?a:i[l](a)}}),Dn="divideScalar",Fs=["typed","numeric"],ws=re(Dn,Fs,e=>{var{typed:t,numeric:r}=e;return t(Dn,{"number, number":function(n,i){return n/i},"Complex, Complex":function(n,i){return n.div(i)},"BigNumber, BigNumber":function(n,i){return n.div(i)},"bigint, bigint":function(n,i){return n/i},"Fraction, Fraction":function(n,i){return n.div(i)},"Unit, number | Complex | Fraction | BigNumber | Unit":(u,n)=>u.divide(n),"number | Fraction | Complex | BigNumber, Unit":(u,n)=>n.divideInto(u)})}),pn="pow",Es=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],As=re(pn,Es,e=>{var{typed:t,config:r,identity:u,multiply:n,matrix:i,inv:o,number:a,fraction:l,Complex:c}=e;return t(pn,{"number, number":s,"Complex, Complex":function(d,f){return d.pow(f)},"BigNumber, BigNumber":function(d,f){return f.isInteger()||d>=0||r.predictable?d.pow(f):new c(d.toNumber(),0).pow(f.toNumber(),0)},"bigint, bigint":(p,d)=>p**d,"Fraction, Fraction":function(d,f){var m=d.pow(f);if(m!=null)return m;if(r.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return s(d.valueOf(),f.valueOf())},"Array, number":h,"Array, BigNumber":function(d,f){return h(d,f.toNumber())},"Matrix, number":D,"Matrix, BigNumber":function(d,f){return D(d,f.toNumber())},"Unit, number | BigNumber":function(d,f){return d.pow(f)}});function s(p,d){if(r.predictable&&!de(d)&&p<0)try{var f=l(d),m=a(f);if((d===m||Math.abs((d-m)/d)<1e-14)&&f.d%2n===1n)return(f.n%2n===0n?1:-1)*Math.pow(-p,d)}catch{}return r.predictable&&(p<-1&&d===1/0||p>-1&&p<0&&d===-1/0)?NaN:de(d)||p>=0||r.predictable?tu(p,d):p*p<1&&d===1/0||p*p>1&&d===-1/0?0:new c(p,0).pow(d,0)}function h(p,d){if(!de(d))throw new TypeError("For A^b, b must be an integer (value is "+d+")");var f=$e(p);if(f.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+f.length+" dimensions)");if(f[0]!==f[1])throw new Error("For A^b, A must be square (size is "+f[0]+"x"+f[1]+")");if(d<0)try{return h(o(p),-d)}catch(C){throw C.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+d+")"):C}for(var m=u(f[0]).valueOf(),w=p;d>=1;)(d&1)===1&&(m=n(w,m)),d>>=1,w=n(w,w);return m}function D(p,d){return i(h(p.valueOf(),d))}}),yt="Number of decimals in function round must be an integer",dn="round",Cs=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],ys=re(dn,Cs,e=>{var{typed:t,config:r,matrix:u,equalScalar:n,zeros:i,BigNumber:o,DenseMatrix:a}=e,l=ru({typed:t,equalScalar:n}),c=Ka({typed:t,DenseMatrix:a}),s=nu({typed:t});function h(D){return Math.abs($t(D).exponent)}return t(dn,{number:function(p){var d=zt(p,h(r.relTol)),f=Mt(p,d,r.relTol,r.absTol)?d:p;return zt(f)},"number, number":function(p,d){var f=h(r.relTol);if(d>=f)return zt(p,d);var m=zt(p,f),w=Mt(p,m,r.relTol,r.absTol)?m:p;return zt(w,d)},"number, BigNumber":function(p,d){if(!d.isInteger())throw new TypeError(yt);return new o(p).toDecimalPlaces(d.toNumber())},Complex:function(p){return p.round()},"Complex, number":function(p,d){if(d%1)throw new TypeError(yt);return p.round(d)},"Complex, BigNumber":function(p,d){if(!d.isInteger())throw new TypeError(yt);var f=d.toNumber();return p.round(f)},BigNumber:function(p){var d=new o(p).toDecimalPlaces(h(r.relTol)),f=br(p,d,r.relTol,r.absTol)?d:p;return f.toDecimalPlaces(0)},"BigNumber, BigNumber":function(p,d){if(!d.isInteger())throw new TypeError(yt);var f=h(r.relTol);if(d>=f)return p.toDecimalPlaces(d.toNumber());var m=p.toDecimalPlaces(f),w=br(p,m,r.relTol,r.absTol)?m:p;return w.toDecimalPlaces(d.toNumber())},bigint:D=>D,"bigint, number":(D,p)=>D,"bigint, BigNumber":(D,p)=>D,Fraction:function(p){return p.round()},"Fraction, number":function(p,d){if(d%1)throw new TypeError(yt);return p.round(d)},"Fraction, BigNumber":function(p,d){if(!d.isInteger())throw new TypeError(yt);return p.round(d.toNumber())},"Unit, number, Unit":t.referToSelf(D=>function(p,d,f){var m=p.toNumeric(f);return f.multiply(D(m,d))}),"Unit, BigNumber, Unit":t.referToSelf(D=>(p,d,f)=>D(p,d.toNumber(),f)),"Array | Matrix, number | BigNumber, Unit":t.referToSelf(D=>(p,d,f)=>ot(p,m=>D(m,d,f),!0)),"Array | Matrix | Unit, Unit":t.referToSelf(D=>(p,d)=>D(p,0,d)),"Array | Matrix":t.referToSelf(D=>p=>ot(p,D,!0)),"SparseMatrix, number | BigNumber":t.referToSelf(D=>(p,d)=>l(p,d,D,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(D=>(p,d)=>s(p,d,D,!1)),"Array, number | BigNumber":t.referToSelf(D=>(p,d)=>s(u(p),d,D,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":t.referToSelf(D=>(p,d)=>n(p,0)?i(d.size(),d.storage()):c(d,p,D,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":t.referToSelf(D=>(p,d)=>n(p,0)?i(d.size(),d.storage()):s(d,p,D,!0)),"number | Complex | BigNumber | Fraction, Array":t.referToSelf(D=>(p,d)=>s(u(d),p,D,!0).valueOf())})}),mn="dot",bs=["typed","addScalar","multiplyScalar","conj","size"],Bs=re(mn,bs,e=>{var{typed:t,addScalar:r,multiplyScalar:u,conj:n,size:i}=e;return t(mn,{"Array | DenseMatrix, Array | DenseMatrix":a,"SparseMatrix, SparseMatrix":l});function o(s,h){var D=c(s),p=c(h),d,f;if(D.length===1)d=D[0];else if(D.length===2&&D[1]===1)d=D[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+D.join(", ")+")");if(p.length===1)f=p[0];else if(p.length===2&&p[1]===1)f=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(d!==f)throw new RangeError("Vectors must have equal length ("+d+" != "+f+")");if(d===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return d}function a(s,h){var D=o(s,h),p=Ae(s)?s._data:s,d=Ae(s)?s._datatype||s.getDataType():void 0,f=Ae(h)?h._data:h,m=Ae(h)?h._datatype||h.getDataType():void 0,w=c(s).length===2,C=c(h).length===2,E=r,b=u;if(d&&m&&d===m&&typeof d=="string"&&d!=="mixed"){var F=d;E=t.find(r,[F,F]),b=t.find(u,[F,F])}if(!w&&!C){for(var g=b(n(p[0]),f[0]),y=1;y<D;y++)g=E(g,b(n(p[y]),f[y]));return g}if(!w&&C){for(var B=b(n(p[0]),f[0][0]),_=1;_<D;_++)B=E(B,b(n(p[_]),f[_][0]));return B}if(w&&!C){for(var S=b(n(p[0][0]),f[0]),I=1;I<D;I++)S=E(S,b(n(p[I][0]),f[I]));return S}if(w&&C){for(var L=b(n(p[0][0]),f[0][0]),G=1;G<D;G++)L=E(L,b(n(p[G][0]),f[G][0]));return L}}function l(s,h){o(s,h);for(var D=s._index,p=s._values,d=h._index,f=h._values,m=0,w=r,C=u,E=0,b=0;E<D.length&&b<d.length;){var F=D[E],g=d[b];if(F<g){E++;continue}if(F>g){b++;continue}F===g&&(m=w(m,C(p[E],f[b])),E++,b++)}return m}function c(s){return Ae(s)?s.size():i(s)}}),gn="det",_s=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],Ns=re(gn,_s,e=>{var{typed:t,matrix:r,subtractScalar:u,multiply:n,divideScalar:i,isZero:o,unaryMinus:a}=e;return t(gn,{any:function(s){return Ee(s)},"Array | Matrix":function(s){var h;switch(Ae(s)?h=s.size():Array.isArray(s)?(s=r(s),h=s.size()):h=[],h.length){case 0:return Ee(s);case 1:if(h[0]===1)return Ee(s.valueOf()[0]);if(h[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Be(h)+")");case 2:{var D=h[0],p=h[1];if(D===p)return l(s.clone().valueOf(),D);if(p===0)return 1;throw new RangeError("Matrix must be square (size: "+Be(h)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Be(h)+")")}}});function l(c,s,h){if(s===1)return Ee(c[0][0]);if(s===2)return u(n(c[0][0],c[1][1]),n(c[1][0],c[0][1]));for(var D=!1,p=new Array(s).fill(0).map((y,B)=>B),d=0;d<s;d++){var f=p[d];if(o(c[f][d])){var m=void 0;for(m=d+1;m<s;m++)if(!o(c[p[m]][d])){f=p[m],p[m]=p[d],p[d]=f,D=!D;break}if(m===s)return c[f][d]}for(var w=c[f][d],C=d===0?1:c[p[d-1]][d-1],E=d+1;E<s;E++)for(var b=p[E],F=d+1;F<s;F++)c[b][F]=i(u(n(c[b][F],w),n(c[b][d],c[f][F])),C)}var g=c[p[s-1]][s-1];return D?a(g):g}}),vn="inv",Ms=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],Ss=re(vn,Ms,e=>{var{typed:t,matrix:r,divideScalar:u,addScalar:n,multiply:i,unaryMinus:o,det:a,identity:l,abs:c}=e;return t(vn,{"Array | Matrix":function(D){var p=Ae(D)?D.size():$e(D);switch(p.length){case 1:if(p[0]===1)return Ae(D)?r([u(1,D.valueOf()[0])]):[u(1,D[0])];throw new RangeError("Matrix must be square (size: "+Be(p)+")");case 2:{var d=p[0],f=p[1];if(d===f)return Ae(D)?r(s(D.valueOf(),d,f),D.storage()):s(D,d,f);throw new RangeError("Matrix must be square (size: "+Be(p)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Be(p)+")")}},any:function(D){return u(1,D)}});function s(h,D,p){var d,f,m,w,C;if(D===1){if(w=h[0][0],w===0)throw Error("Cannot calculate inverse, determinant is zero");return[[u(1,w)]]}else if(D===2){var E=a(h);if(E===0)throw Error("Cannot calculate inverse, determinant is zero");return[[u(h[1][1],E),u(o(h[0][1]),E)],[u(o(h[1][0]),E),u(h[0][0],E)]]}else{var b=h.concat();for(d=0;d<D;d++)b[d]=b[d].concat();for(var F=l(D).valueOf(),g=0;g<p;g++){var y=c(b[g][g]),B=g;for(d=g+1;d<D;)c(b[d][g])>y&&(y=c(b[d][g]),B=d),d++;if(y===0)throw Error("Cannot calculate inverse, determinant is zero");d=B,d!==g&&(C=b[g],b[g]=b[d],b[d]=C,C=F[g],F[g]=F[d],F[d]=C);var _=b[g],S=F[g];for(d=0;d<D;d++){var I=b[d],L=F[d];if(d!==g){if(I[g]!==0){for(m=u(o(I[g]),_[g]),f=g;f<p;f++)I[f]=n(I[f],i(m,_[f]));for(f=0;f<p;f++)L[f]=n(L[f],i(m,S[f]))}}else{for(m=_[g],f=g;f<p;f++)I[f]=u(I[f],m);for(f=0;f<p;f++)L[f]=u(L[f],m)}}}return F}}}),qt=Po({config:ht}),uu=Lo({}),iu=Xo({}),Or=Qo({}),cr=ma({Matrix:Or}),ge=$i({BigNumber:qt,Complex:uu,DenseMatrix:cr,Fraction:iu}),Ts=Za({typed:ge}),zr=Wa({typed:ge}),xs=os({typed:ge}),lr=Aa({config:ht,typed:ge}),Is=va({equalScalar:lr,typed:ge}),ou=rs({typed:ge}),au=Sa({typed:ge}),su=ba({Matrix:Or,equalScalar:lr,typed:ge}),Os=Ga({typed:ge}),zs=Ia({BigNumber:qt,typed:ge}),pt=$a({DenseMatrix:cr,Matrix:Or,SparseMatrix:su,typed:ge}),Ps=ds({BigNumber:qt,config:ht,matrix:pt,typed:ge}),fu=Pa({Fraction:iu,typed:ge}),cu=ss({BigNumber:qt,DenseMatrix:cr,SparseMatrix:su,config:ht,matrix:pt,typed:ge}),Rs=vs({bignumber:zs,fraction:fu,number:au}),Ht=ys({BigNumber:qt,DenseMatrix:cr,config:ht,equalScalar:lr,matrix:pt,typed:ge,zeros:Ps}),$s=Ds({matrix:pt,config:ht,typed:ge}),lu=Ua({typed:ge}),hu=ws({numeric:Rs,typed:ge}),qs=Bs({addScalar:zr,conj:xs,multiplyScalar:ou,size:$s,typed:ge}),Pr=us({addScalar:zr,dot:qs,equalScalar:lr,matrix:pt,multiplyScalar:ou,typed:ge}),Us=Ns({divideScalar:hu,isZero:Is,matrix:pt,multiply:Pr,subtractScalar:Os,typed:ge,unaryMinus:lu}),Ls=Ss({abs:Ts,addScalar:zr,det:Us,divideScalar:hu,identity:cu,matrix:pt,multiply:Pr,typed:ge,unaryMinus:lu}),Zs=As({Complex:uu,config:ht,fraction:fu,identity:cu,inv:Ls,matrix:pt,multiply:Pr,number:au,typed:ge});const Vs={position:"bottom",strength:2,height:"6rem",divCount:5,exponential:!1,zIndex:1e3,animated:!1,duration:"0.3s",easing:"ease-out",opacity:1,curve:"linear",responsive:!1,target:"parent",className:"",style:{}},Br={top:{position:"top",height:"6rem"},bottom:{position:"bottom",height:"6rem"},left:{position:"left",height:"6rem"},right:{position:"right",height:"6rem"},subtle:{height:"4rem",strength:1,opacity:.8,divCount:3},intense:{height:"10rem",strength:4,divCount:8,exponential:!0},smooth:{height:"8rem",curve:"bezier",divCount:10},sharp:{height:"5rem",curve:"linear",divCount:4},header:{position:"top",height:"8rem",curve:"ease-out"},footer:{position:"bottom",height:"8rem",curve:"ease-out"},sidebar:{position:"left",height:"6rem",strength:2.5},"page-header":{position:"top",height:"10rem",target:"page",strength:3},"page-footer":{position:"bottom",height:"10rem",target:"page",strength:3}},_r={linear:e=>e,bezier:e=>e*e*(3-2*e),"ease-in":e=>e*e,"ease-out":e=>1-Math.pow(1-e,2),"ease-in-out":e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2},Ws=(...e)=>e.reduce((t,r)=>({...t,...r}),{}),Hs=e=>({top:"to top",bottom:"to bottom",left:"to left",right:"to right"})[e]||"to bottom",Gs=(e,t)=>{let r;return(...u)=>{clearTimeout(r),r=setTimeout(()=>e(...u),t)}},Fn=(e,t,r)=>{const[u,n]=Qe.useState(t[r]);return Qe.useEffect(()=>{if(!e)return;const i=()=>{const a=window.innerWidth;let l=t[r];const s=(h=>h.charAt(0).toUpperCase()+h.slice(1))(r);a<=480&&t["mobile"+s]?l=t["mobile"+s]:a<=768&&t["tablet"+s]?l=t["tablet"+s]:a<=1024&&t["desktop"+s]&&(l=t["desktop"+s]),n(l)},o=Gs(i,100);return i(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[e,t,r]),e?u:t[r]},Js=(e,t=!1)=>{const[r,u]=Qe.useState(!t);return Qe.useEffect(()=>{if(!t||!e.current)return;const n=new IntersectionObserver(([i])=>u(i.isIntersecting),{threshold:.1});return n.observe(e.current),()=>n.disconnect()},[e,t]),r},Ys=e=>{const t=Qe.useRef(null),[r,u]=Qe.useState(!1),n=Qe.useMemo(()=>{const d=e.preset&&Br[e.preset]?Br[e.preset]:{};return Ws(Vs,d,e)},[e]),i=Fn(n.responsive,n,"height"),o=Fn(n.responsive,n,"width"),a=Js(t,n.animated==="scroll"),l=Qe.useMemo(()=>{const d=[],f=100/n.divCount,m=r&&n.hoverIntensity?n.strength*n.hoverIntensity:n.strength,w=_r[n.curve]||_r.linear;for(let C=1;C<=n.divCount;C++){let E=C/n.divCount;E=w(E);let b;n.exponential?b=Number(Zs(2,E*4))*.0625*m:b=.0625*(E*n.divCount+1)*m;const F=Ht((f*C-f)*10)/10,g=Ht(f*C*10)/10,y=Ht((f*C+f)*10)/10,B=Ht((f*C+f*2)*10)/10;let _=`transparent ${F}%, black ${g}%`;y<=100&&(_+=`, black ${y}%`),B<=100&&(_+=`, transparent ${B}%`);const S=Hs(n.position),I={position:"absolute",inset:"0",maskImage:`linear-gradient(${S}, ${_})`,WebkitMaskImage:`linear-gradient(${S}, ${_})`,backdropFilter:`blur(${b.toFixed(3)}rem)`,WebkitBackdropFilter:`blur(${b.toFixed(3)}rem)`,opacity:n.opacity,transition:n.animated&&n.animated!=="scroll"?`backdrop-filter ${n.duration} ${n.easing}`:void 0};d.push(pr.jsx("div",{style:I},C))}return d},[n,r]),c=Qe.useMemo(()=>{const d=["top","bottom"].includes(n.position),f=["left","right"].includes(n.position),m=n.target==="page",w={position:m?"fixed":"absolute",pointerEvents:n.hoverIntensity?"auto":"none",opacity:a?1:0,transition:n.animated?`opacity ${n.duration} ${n.easing}`:void 0,zIndex:m?n.zIndex+100:n.zIndex,...n.style};return d?(w.height=i,w.width=o||"100%",w[n.position]=0,w.left=0,w.right=0):f&&(w.width=o||i,w.height="100%",w[n.position]=0,w.top=0,w.bottom=0),w},[n,i,o,a]),{hoverIntensity:s,animated:h,onAnimationComplete:D,duration:p}=n;return Qe.useEffect(()=>{if(a&&h==="scroll"&&D){const d=setTimeout(()=>D(),parseFloat(p)*1e3);return()=>clearTimeout(d)}},[a,h,D,p]),pr.jsx("div",{ref:t,className:`gradual-blur ${n.target==="page"?"gradual-blur-page":"gradual-blur-parent"} ${n.className}`,style:c,onMouseEnter:s?()=>u(!0):void 0,onMouseLeave:s?()=>u(!1):void 0,children:pr.jsx("div",{className:"gradual-blur-inner",style:{position:"relative",width:"100%",height:"100%"},children:l})})},Rr=Zu.memo(Ys);Rr.displayName="GradualBlur";Rr.PRESETS=Br;Rr.CURVE_FUNCTIONS=_r;const Xs=()=>{if(typeof document>"u")return;const e="gradual-blur-styles";if(document.getElementById(e))return;const t=document.createElement("style");t.id=e,t.textContent=".gradual-blur{pointer-events:none;transition:opacity 0.3s ease-out}.gradual-blur-inner{pointer-events:none}",document.head.appendChild(t)};typeof document<"u"&&Xs();export{Rr as default};
